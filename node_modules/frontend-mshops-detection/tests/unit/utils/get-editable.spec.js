const getEditable = require('../../../src/utils/get-editable');

describe('Utils > getEditable', () => {
  it('should return true if editable query param is present and value is "true"', () => {
    const mockReq = { query: { editable: 'true' } };

    expect(getEditable(mockReq)).toBe(true);
  });

  describe('result for other values has to be false', () => {
    [
      { description: 'query is not defined', req: {} },
      { description: 'editable is undefined', req: { query: {} } },
      { description: 'editable is a number', req: { query: { editable: 10 } } },
      { description: 'editable is a bolean', req: { query: { editable: true } } },
      { description: 'editable is a string other than "true"', req: { query: { editable: 'any other value' } } },
    ].forEach(({ description, req }) => {
      it(`such as ${description}`, () => {
        expect(getEditable(req)).toBe(false);
      });
    });
  });
});
