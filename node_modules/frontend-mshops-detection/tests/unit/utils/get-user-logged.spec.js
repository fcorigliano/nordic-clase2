const getUserLogged = require('../../../src/utils/get-user-logged');

describe('Utils > getPreview', () => {
  it('should return true if req.user is not a falsy value', () => {
    const mockReq = { user: { id: 'test id', name: 'example name' } };

    expect(getUserLogged(mockReq)).toBe(true);
  });

  describe('result for other values has to be false', () => {
    [
      { description: 'user is not defined', req: {} },
      { description: 'user is null', req: { user: null } },
    ].forEach(({ description, req }) => {
      it(`such as ${description}`, () => {
        expect(getUserLogged(req)).toBe(false);
      });
    });
  });
});
