/**
 * Module dependencies
 */
const httpMocks = require('node-mocks-http');
const getDevice = require('../../../src/utils/get-device');

/**
 * Tests
 */
describe('Utils > getDevice', () => {
  test('if the request has the device detected via the device detection middleware, it should return its value', () => {
    const req = httpMocks.createRequest({
      device: {
        type: 'desktop',
      },
    });

    expect(getDevice(req)).toBe('desktop');
  });

  test('if the request doesn\'t have a device, should return a falsy value', () => {
    const req = httpMocks.createRequest({});

    expect(getDevice(req)).toBeFalsy();
  });
});
