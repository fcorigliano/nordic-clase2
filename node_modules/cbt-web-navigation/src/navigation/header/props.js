
const isUserLoggedIn = require('@frontend-navigations/commons/is-user-logged-in');
const logoProps = require('./components/logo/props');
const meliLabProps = require('./components/meli-lab/props');

const headerProps = (props) => {
  const { platform, userMenu, user, navigationPIIData, type } = props;
  const isLoggedIn = isUserLoggedIn(props);
  const showLoggedInLinks = isLoggedIn && (props.userMenu.loggedLinks.length > 0 || props.userMenu.icons.length > 0);

  return {
    siteId: platform.siteId,
    isDesktop: props.device.desktop || false,
    logo: logoProps(props),
    melilab: meliLabProps(props),
    isLoggedIn,
    showLoggedInLinks,
    user,
    userMenu,
    type,
    navigationPIIData,
  };
};

module.exports = headerProps;
