const loggedInMenuProps = (props) => {
  const { user, navigationPIIData, cbtInfo, sites, logisticTypes, links } = props;
  const currentSiteUser = cbtInfo && cbtInfo.siteUsers ? cbtInfo.siteUsers.find(
    site => site.user_id === cbtInfo.siteUserId,
  ) : null;

  const userName = navigationPIIData.userName || user.nickname;

  return {
    logisticType: currentSiteUser && currentSiteUser.logistic_type ? currentSiteUser.logistic_type : '',
    userName,
    currentSiteId: cbtInfo && cbtInfo.currentSiteId ? cbtInfo.currentSiteId : '',
    cbtInfo,
    sites,
    logisticTypes,
    links,
  };
};

module.exports = loggedInMenuProps;
