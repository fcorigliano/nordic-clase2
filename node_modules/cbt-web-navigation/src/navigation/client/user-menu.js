function userMenu() {
  if (document) {
    const el = document.querySelector('#nav-header-cbt__logged');
    el.addEventListener('click', () => {
      const menu = document.querySelector('#nav-header-cbt__logged-options');
      const hidden = menu.style.display;
      const newStatus = hidden === 'block' ? 'none' : 'block';
      menu.style.display = newStatus;
      if (newStatus === 'block') {
        document.addEventListener('click', function closeMenu(ev) {
          if (!el.contains(ev.target)) {
            menu.style.display = 'none';
            document.removeEventListener('click', closeMenu);
          }
        });
      }
    }, false);
  }
}

module.exports = userMenu;
