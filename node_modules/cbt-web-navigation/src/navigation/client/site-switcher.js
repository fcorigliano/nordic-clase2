function siteSwitcher(currentSite) {
  const CBT_SITE_COOKIE = 'cbtSiteId';
  if (document) {
    document.cookie = CBT_SITE_COOKIE.concat(`=${currentSite}; path=/;`);
    const el = document.querySelector('#nav-header-cbt__switcher');
    el.addEventListener('click', (event) => {
      const newSite = event.target.dataset.value;
      if (newSite && (newSite !== currentSite)) {
        document.cookie = CBT_SITE_COOKIE.concat(`=${newSite};`).concat(' path=/;');
        /* eslint-disable-next-line no-restricted-globals */
        location.reload();
      }
    }, false);
    const logoutBtn = document.querySelector('#nav-header-cbt__logout');
    logoutBtn.addEventListener('click', () => {
      document.cookie = CBT_SITE_COOKIE.concat('=; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/;');
    }, false);
  }
}

module.exports = siteSwitcher;
