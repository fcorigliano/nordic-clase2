const logger = require('frontend-logger')('@dynamic-content-libs/dynamic-content-api-middleware');

const error = (message, {
  platformId,
  siteId,
  domain,
  error: errorParam,
  extraTags,
} = {}) => {
  const logMessage = `${message}: ${(errorParam && errorParam.message) || 'No error message'}`;
  const tags = {
    platformId: platformId || null,
    siteId: siteId || null,
    domain: domain || null,
    ...extraTags,
  };

  logger.error(logMessage, tags);
};

module.exports = {
  error,
};
