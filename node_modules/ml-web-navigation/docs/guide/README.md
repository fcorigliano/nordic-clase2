# ml-web-navigation

# Table of Contents
- [Description](#description)
- [Install](#install)
- [Usage](#usage)
  - [Nordic integration](#nordic-integration)
  - [Navigation Options](#navigation-options)
    - [Navigation Types](#navigation-types)
      - [Full](#full)
      - [Lite](#lite)
      - [Clean](#clean)
      - [Internal](#internal)
      - [Hidden](#hidden)
- [Example](#example)
- [Contributing](#contributing)

## Description

> This module provides navigations (header and footer) for the Mercado Libre business unit.

## Install
This module is included in Nordic by default, so if your application is using Nordic there is no need to install it.

## Usage
### Nordic integration
When certain conditions are met (eg: request from marketplace domains), `frontend-layout` will render this navigation automatically with a default configuration.

If you want to customize the navigation you can pass some parameters through [`frontend-layout`'s `navigationOptions`](https://nordic.adminml.com/docs/api/Nordic%20Modules/frontend-layout#navigationoptions) object.

### Navigation options
| Name | Description | Type | Default | Required |
| --- | --- | --- | --- | --- |
| `type` | Navigation type | String | `full` | |
| `hideDownloadApp` | If `true` avoids [download-appi](https://github.com/mercadolibre/fury_download-appi) markup rendering | Boolean | `false` | |
| `turnOnLoansMessages` | If `true` turns on loans messages underneath the header | Boolean | `false` | |
| `turnOnKycMessages` | If `true` turns on kyc messages underneath the header | Boolean | `false` | |
| `internal` | Internal navigation type configuration | Object | `null` | |
| `internal.title` | Title of the internal navigation header | String | `null` | |
| `internal.btnHref` | href attribute of the internal navigation header back button | String | `null` | |
| `searchValue` | Text of the header search input | String | `''` | |
| `currentLocation` | Current location configuration | Object | `null` | |
| `currentLocation.onMobile` | Location on mobile  | Boolean | `false` | |
| `currentLocation.context` | Location context  | String | `null` | |
| `currentLocation.showOnboarding` | Location showOnboarding (render onboardingCP widget)  | Boolean | `false` | |
| `category` | Category configuration  | Object | `null` | |
| `category.name` | Category name  | String | `null` | |
| `category.permalink` | Category URL  | String | `null` | |
| `category.id` | Category identificator  | String | `null` | |

#### Navigation types
##### full
This type provides the full navigation user experience. This is the default type.

![Desktop](https://user-images.githubusercontent.com/4377470/96770428-caa94a80-13b6-11eb-9f2d-51dbb4658b70.png)
![Mobile](https://user-images.githubusercontent.com/4377470/96770431-cbda7780-13b6-11eb-9d1c-917e9ed36612.png)

##### lite
This type is intended to be used on focused views.

![Desktop](https://user-images.githubusercontent.com/4377470/96770313-ab122200-13b6-11eb-9ed2-c4f1dcb2d536.png)
![Mobile](https://user-images.githubusercontent.com/4377470/96770320-acdbe580-13b6-11eb-87ae-4e23bafb4899.png)


##### clean
This type is intended to be used when we need the minimum expression of a navigation.

![Desktop](https://user-images.githubusercontent.com/4377470/96770151-7f8f3780-13b6-11eb-8217-7e1ab463044c.png)
![Mobile](https://user-images.githubusercontent.com/4377470/96770154-80c06480-13b6-11eb-9790-79322d9b0cc0.png)

##### internal
This type is intended for flows, modal views or punctual actions on mobile devices.

![Mobile](https://user-images.githubusercontent.com/4377470/96770007-540c4d00-13b6-11eb-94d2-48c4e8ab468a.png)

##### hidden
This type does not render the navigation leaving full space to the application.

### Example
#### Default configuration
##### res.render
```jsx
// controller
const View = require('./view');

const appProps = {};

module.exports = (req, res) => res.render(View, appProps);
```

##### Nordic Page
```jsx
import React from 'react'

const Item = () => (
  <div>
    <h1>This is the item page</h1>
  </div>
);

export default Item;
```

#### Passing some configuration to the navigation
##### res.render
```jsx
// controller
const View = require('./view');

const appProps = {};

module.exports = (req, res) => res.render(View, appProps, {
  navigationOptions: {
    type: 'internal',
    internal: {
      title: 'Some title for the internal navigation',
    },
  },
});
```

##### Nordic Page
```jsx
import React from 'react'

const Item = () => (
  <div>
    <h1>This is the item page</h1>
  </div>
);

export const setPageSettings = () => ({
  navigation: {
    type: 'internal',
    internal: {
      title: 'Some title for the internal navigation',
    },
  },
});

export default Item;
```

## Contributing
In order to contribute to this library, you must read [this guide](https://furydocs.io/ml-web-navigation/guide/#/contributing) first.