@import '../../ui-library_ml/src/styles/helpers/variables';
@import '../../ui-library_ml/src/styles/helpers/mixins/size';
@import '../../ui-library_mercadolibre/src/styles/ui-components/loading/ui-loading__small';
@import './button.scss';

#nav-header-menu-mobile {
  background: $white;
  margin: 0;
  padding: 0;
  color: #333;
  position: relative;
  display: none;
  box-shadow: 0 1px 1px 0 rgba(0, 0, 0, .1);
  border-top: solid 1px #e5d850;

  &:before {
    content: '';
    position: absolute;
    top: -6px;
    right: 17px;
    width: 10px;
    height: 10px;
    transform: rotate(45deg);
    background: $white;
    border-top: solid 1px #e5d850;
    border-left: solid 1px #e5d850;
  }

  #nav-header-menu-mobile-user-info {
    border-bottom: solid 1px #e6e6e6;
    padding: 18px 24px;
    box-sizing: content-box;
    height: 52px;

    &.nav-header-menu-mobile-guest {
      height: auto;
      padding: 18px 24px;
    }

    #nav-header-mobile-avatar-form {
      position: relative;
      width: 40px;
      height: 40px;
      line-height: 42px;
      text-align: center;
      background: #ededed;
      border-radius: 50%;
      color: #bbb;
      font-size: 25px;
      float: left;
      margin-right: 12px;
      margin-top: 6px;

      input {
        opacity: 0;
        position: absolute;
        left: -1000px;
      }

      img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: solid 1px #f5f5f5;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      svg {
        display: none;
        position: absolute;
        top: -12px;
        left: -12px;
        width: 64px;
        height: 64px;

        path {
          stroke-width: 4;
        }
      }

    }

    &.nav-header-menu-mobile-with-loyalty #nav-header-mobile-avatar-form {
      margin-right: 20px;
    }

    .nav-icon-create-account-mobile {
      margin-left: 2px;
    }

    .nav-header-menu-mobile-guest-logo {
      height: 56px;
      width: 56px;
      background-color: #ededed;
      border-radius: 50%;
      float: left;
      margin-right: 16px;
      text-align: center;
    }

    .nav-header-menu-mobile-guest-icon {
      margin-top: 9px;
    }

    .nav-header-menu-mobile-guest-title {
      font-size: 16px;
      font-weight: 600;
      margin: 4px 0;
      line-height: 1;
    }

    .nav-header-menu-mobile-guest-text {
      font-size: 14px;
      color: rgba(0, 0, 0, 0.45);
      margin: 0;
      line-height: 1.14;
    }

    .nav-header-menu-mobile-guest-buttons {
      margin-top: 14px;
    }

    .nav-header-mobile-loyalty-link {
      font-size: 14px;
      text-decoration: none;
      font-weight: 400;
    }

    .nav-header-mobile-loyalty-link-icon {
      margin-left: 3px;
    }

    .nav-header-mobile-loyalty-level-1 {
      stroke: #20c261;
      color: #20c261;
    }

    .nav-header-mobile-loyalty-level-2 {
      stroke: #1ac2b0;
      color: #1ac2b0;
    }

    .nav-header-mobile-loyalty-level-3 {
      stroke: #00a4d5;
      color: #00a4d5;
    }

    .nav-header-mobile-loyalty-level-4 {
      stroke: #4063ea;
      color: #4063ea;
    }

    .nav-header-mobile-loyalty-level-5 {
      stroke: #8700ff;
      color: #8700ff;
    }

    .nav-header-mobile-loyalty-level-6 {
      stroke: #a90f90;
      color: #a90f90;
    }

    &.nav-header-menu-mobile-with-loyalty #nav-header-mobile-avatar-form svg {
      display: inline-block;
    }

    #nav-header-user-greetings {
      font-size: 16px;
      font-weight: 600;
      line-height: 1.25;
      margin: 5px 0 0 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    &.nav-header-menu-mobile-with-loyalty #nav-header-user-greetings {
      font-size: 14px;
      line-height: 1.29;
      color: rgba(0, 0, 0, 0.45);
      font-weight: 400;
    }

    #nav-header-user-mail-or-level {
      font-size: 14px;
      line-height: 1.29;
      color: rgba(0, 0, 0, 0.45);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    &.nav-header-menu-mobile-with-loyalty #nav-header-user-mail-or-level {
      .nav-header-mobile-loyalty-link {
        line-height: 1.25;
        font-size: 16px;
        font-weight: 600;
        color: rgba(0, 0, 0, 0.8);
      }

      path {
        stroke: rgba(0, 0, 0, 0.8);
      }
    }
  }

  ul {
    position: relative;
    background: white;
    list-style: none;
    margin: 0;
    padding: 16px 0;
    border-bottom: solid 1px #e6e6e6;
    font-size: 14px;

    li {
      display: block;
      padding: 4px 0;
      margin: 0;

      &:last-of-type {
        margin-bottom: 0;
      }

      &.nav-mobile-menu-selected {
        background: #f7f7f7;

        a {
          color: #3483fa;
        }
      }

      a {
        display: block;
        min-height: 39px;
        line-height: 23px;
        text-decoration: none;
        padding: 8px 20px 8px 26px;
        margin: 0;
        color: rgba(0, 0, 0, 0.8);

        i {
          font-size: 20px;
          width: 20px;
          height: 20px;
          display: inline-block;
          margin-right: 18px;
          float: left;

          &.nav-icon-bookmarks-mobile {
            font-size: 18px;
            height: 18px;
          }

          &.nav-icon-deals-mobile {
            font-size: 22px;
            height: 23px;
            margin-top: 2px;
          }

          &.nav-icon-points-discounts-mobile {
            font-size: 22px;
            height: 22px;
          }
        }

        span {
          margin: 0;
          font-weight: 600;

          .nav-header-notifications-badge {
            position: static;
            display: inline-block;
            margin-left: 10px;

            &:empty {
              display: none;
            }
          }

          .nav-header-badge {
            border-radius: 4px;
            background-color: #3483fa;
            display: inline-block;
            margin: 2px 0 0 10px;
            color: $white;
            padding: 0 8px;
            line-height: 20px;
            font-size: 10px;
            text-transform: uppercase;
            vertical-align: top;

            @media (max-width: 359px) {
              text-indent: -200px;
              overflow: hidden;
              width: 10px;
              height: 10px;
              padding: 0;
              border-radius: 50%;
              margin-top: 8px;
            }
          }
        }

        .nav-link-tag {
          margin-left: 9px;
        }
      }
    }

    #nav-header-menu-mobile-account-money {
      a {
        height: 62px;
        line-height: 38px;
      }

      p {
        padding-left: 41px;
        line-height: 23px;
      }

      #nav-header-menu-mobile-account-money-detail {
        display: block;
        color: #797979;
        font-size: 14px;
        line-height: 1.14;

        svg {
          width: 20px;
          height: 20px;
        }
      }
    }
  }
}

#nav-header-menu-switch:checked ~ header .nav-header-menu-wrapper #nav-header-menu-mobile {
  display: block;
}

#nav-header-menu-switch:checked ~ header .nav-bounds-with-cart .nav-header-menu-wrapper #nav-header-menu-mobile:before,
.nav-bounds-with-cart #nav-header-menu-switch:checked + .nav-header-menu-wrapper #nav-header-menu-mobile:before {
  right: 62px;
}
