@use 'sass:math';

// Half of the difference between header height and input/button height
$vmargin: math.div($large-header-height - $large-search-input-height, 2);

.nav-search {
	padding: $vmargin $search-input-box-active-shadow-size; // The horizontal padding is necessary to show correctly input box shadow.
	overflow: auto; // This technique makes the form fluid when Menu is floated
	max-width: $large-search-form-max-width;
	height: $large-header-height;
	position: relative;
	left: -$search-input-box-active-shadow-size; // necessary to align searchBox with Logo
}

input[type='text'].nav-search-input,
input[type='search'].nav-search-input { // Specificity killer
	padding: $large-search-input-padding;
	border-radius: $large-search-input-border-radius;
    background-color: $search-input-bg-color;
    border: $search-input-border;

	&:focus {
        border: $search-input-border;
		padding: $large-search-input-padding;
	}

    &::placeholder {
        visibility: hidden;
    }

	.ch-autocomplete-loading {
		background-position: right $large-autocomplete-spinner-right center;
	}
}


button.nav-search-btn,
button.nav-search-btn:focus { // Specificity killer
	border-radius: 0 $large-search-input-border-radius $large-search-input-border-radius 0;
	width: $large-search-btn-width;
	height: $large-search-input-height;
	border: $search-input-border;
	background-color: $large-search-gradient-top;
	background-image: linear-gradient($large-search-gradient-top, $large-search-gradient-bottom);
	top: $vmargin;
	right: $search-input-box-active-shadow-size;
}
