const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const Footer = require('./desktop');

describe('Mercado Libre Navigation', () => {
  describe('Footer Desktop', () => {
    const downloadApp = {
      'header-top': [{
        type: 'html',
        typeData: {
          content: '<div>headerTop</div>',
        },
      }],
      'footer-top': [{
        type: 'html',
        typeData: {
          content: '<div>footerTop</div>',
        },
      }],
      'footer-bottom': [{
        type: 'html',
        typeData: {
          content: '<div>footerBottom</div>',
        },
      }],
    };

    it('matches the default snapshot for Footer in desktop', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <Footer
          footerAccess={{
            title: 'Más información',
            groups: [
              {
                id: 'about',
                title: 'Acerca de',
                links: [{ link: { href: 'https://ideas.mercadolibre.com/ar/noticias/' } }],
              },
            ],
          }}
          copyright={{
            since: '1999',
            companyName: 'Mercado Libre',
            currentYear: 2019,
          }}
          footerNavigation={{
            links: [{
              href: 'https://www.mercadolibre.com.ar/jobs',
              name: 'Trabaja con nosotros',
              id: 'jobs',
            }],
          }}
          downloadAppBanner={{
            link: 'https://www.mercadolibre.com.ar',
            label: 'Comprá y vendé en la app',
            target: '_blank',
          }}
          downloadApp={downloadApp}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
    it('matches snapshot for Footer MPE with icon in desktop', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <Footer
          footerAccess={{
            title: 'Más información',
            groups: [
              {
                id: 'about',
                title: 'Acerca de',
                links: [{ link: { id: 'news', href: 'https://ideas.mercadolibre.com/ar/noticias/' } }],
                icons: {
                  news: {
                    image: '/help-icon.png',
                    image2x: '/help-icon@2x.png',
                    width: '24',
                    height: '12',
                  },
                },
              },
            ],
          }}
          copyright={{
            since: '1999',
            companyName: 'Mercado Libre',
            currentYear: 2019,
          }}
          footerNavigation={{
            links: [{
              href: 'https://www.mercadolibre.com.ar/jobs',
              name: 'Trabaja con nosotros',
              id: 'jobs',
            }],
            icons: {
              helpClaims: {
                image: '/help-icon.png',
                image2x: '/help-icon@2x.png',
                width: '24',
                height: '12',
              },
            },
          }}
          downloadAppBanner={{
            link: 'https://www.mercadolibre.com.ar',
            label: 'Comprá y vendé en la app',
            target: '_blank',
          }}
          downloadApp={downloadApp}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
