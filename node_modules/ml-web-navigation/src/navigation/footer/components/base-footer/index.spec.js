const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const BaseFooter = require('.');

const baseProps = {
  footerAccess: { show: true },
  isMobile: false,
  copyright: {
    since: '1999',
    companyName: 'Mercado Libre',
    currentYear: 2019,
  },
  baseFooter: {},
  navigation: {
    links: [{
      href: 'https://www.mercadolibre.com.ar/jobs',
      name: 'Trabaja con nosotros',
      id: 'jobs',
    }],
  },
  downloadApp: {
    'header-top': [{
      type: 'html',
      typeData: {
        content: '<div>headerTop</div>',
      },
    }],
    'footer-top': [{
      type: 'html',
      typeData: {
        content: '<div>footerTop</div>',
      },
    }],
    'footer-bottom': [{
      type: 'html',
      typeData: {
        content: '<div>footerBottom</div>',
      },
    }],
  },
  honeypathTrap: {},
};

describe('Mercado Libre Navigation', () => {
  describe('Base Footer', () => {
    it('matches the default snapshot for Base Footer without extraCompanyName', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <BaseFooter
          {...baseProps}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for Base Footer with extraCompanyName', () => {
      const renderer = new ShallowRenderer();
      const props = {
        ...baseProps,
        baseFooter: {
          ...baseProps.baseFooter,
          extraCompanyName: 'someExtraCompanyName',
        },
      };
      const component = (
        <BaseFooter
          {...props}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for Base Footer with banner, bottom and children', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <BaseFooter
          {...baseProps}
          banner={<div className="banner" />}
          footerExhibitor={<div className="bottom" />}
        >
          <div className="children" />
        </BaseFooter>
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for Base Footer with banner, bottom and children and tertiaries section', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <BaseFooter
          {...baseProps}
          banner={<div className="banner" />}
          bottom={<div className="bottom" />}
          tertiaries={<div className="tertiary" />}
        >
          <div className="children" />
        </BaseFooter>
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for Base Footer with banner, bottom and children and tertiaries section', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <BaseFooter
          {...baseProps}
          banner={<div className="banner" />}
          bottom={<div className="bottom" />}
          tertiaries={<div className="tertiary" />}
        >
          <div className="children" />
        </BaseFooter>
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for Cookie Disclaimer', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <BaseFooter
          {...baseProps}
        >
          <div className="children" />
        </BaseFooter>
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
