/* eslint-disable security/detect-object-injection */
const React = require('react');
const PropTypes = require('prop-types');
const types = require('./types');

const DownloadApp = ({ position }) => {
  // Skip rendering on unknown positioning
  if (!position) {
    return null;
  }

  return position.reduce((tempElements, elementData) => {
    const TypeComponent = types[elementData.type];

    if (TypeComponent) {
      tempElements.push(<TypeComponent data={elementData.data} />);
    }

    return tempElements;
  }, []);
};

DownloadApp.propTypes = {
  position: PropTypes.object,
};

module.exports = DownloadApp;
