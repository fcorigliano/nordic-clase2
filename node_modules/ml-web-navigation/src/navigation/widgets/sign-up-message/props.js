const isUserLoggedIn = require('@frontend-navigations/commons/is-user-logged-in');

const signUpProps = (props) => {
  const { user, navigationPIIData, cdn, navigationUrls, platform, configSchema } = props;
  const isLoggedIn = isUserLoggedIn(props);

  const baseProps = {
    baseUrl: cdn.link,
    version: configSchema.signUpVersion,
    show: isLoggedIn,
    isUserCompany: !!navigationPIIData.isUserCompany,
    changeNicknameUrl: navigationUrls.changeNickName.link,
    companyFAQUrl: navigationUrls.companyFAQ ? navigationUrls.companyFAQ.link : null,
    siteId: platform.siteId,
  };

  if (isLoggedIn) {
    baseProps.userName = navigationPIIData.preferredName || user.nickname;
    baseProps.userEmail = navigationPIIData.email || '';
    baseProps.userNickname = user.nickname;
  }

  return baseProps;
};

module.exports = signUpProps;
