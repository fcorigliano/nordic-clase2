const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const NavMenuLink = require('.');

describe('Mercado Libre Navigation', () => {
  describe('Nav Menu Link Component', () => {
    it('matches the default snapshot for nav menu link', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenuLink
          link={{
            href: 'https://www.mercadolibre.com.ar',
            className: 'nav-menu-link',
          }}
          name="Inicio"
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the snapshot for nav menu link with link tag', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenuLink
          link={{
            href: 'https://www.mercadolibre.com.ar',
            className: 'nav-menu-link',
          }}
          name="Inicio"
          linkTag={{
            name: 'Nuevo',
          }}
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the snapshot for a link that renders the CP prop', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenuLink
          link={{
            href: 'https://www.mercadolibre.com.ar',
            className: 'nav-menu-link',
          }}
          name="Inicio"
          CP={props => <div>{props.name}</div>}
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the snapshot for a link that renders the SideEffect prop', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenuLink
          link={{
            href: 'https://www.mercadolibre.com.ar',
            className: 'nav-menu-link',
          }}
          name="Inicio"
          SideEffect={props => <div>{props.name}</div>}
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
