const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const CPDesktop = require('./cp.desktop');

const baseProps = {
  label: 'Enviar a',
  title: 'Capital Federal',
  linkCP: {
    href: 'https://www.mercadolibre.com.ar/navigation/addresses-hub?go=https%3A%2F%2Fdesa.mercadolibre.com.ar%3A8443%2F',
    className: 'nav-cp',
    'data-js': 'cp',
  },
  modalWidget: {
    baseUrl: 'https://ml.static.com',
    version: '1.0.0',
  },
  onboardingWidget: {
    show: true,
    baseUrl: 'https://http2.mlstatic.com',
    cpInfo: { inferred: true, zipcode: '1234' },
    domain: 'mercadolibre.com.ar',
    siteId: 'MLA',
    locale: 'es_AR',
  },
};

describe('Mercado Libre Navigation', () => {
  describe('CP Desktop Component', () => {
    it('matches the default snapshot for CP desktop component', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <CPDesktop
          {...baseProps}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
    it('matches the default snapshot for CP desktop with no title component', () => {
      const renderer = new ShallowRenderer();
      const props = { ...baseProps, title: null };
      const component = (
        <CPDesktop
          {...props}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
