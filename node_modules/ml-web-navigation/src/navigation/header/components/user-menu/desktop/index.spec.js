const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const UserMenuDesktop = require('.');

const userLinksProps = {
  links: [
    {
      link: {
        href: 'https://www.mercadolibre.com.ar',
      },
      name: 'Inicio',
      icon: 'nav-home-icon',
      selected: false,
      id: 'home',
    },
    {
      link: {
        href: 'https://www.mercadolibre.com.ar/ofertas',
      },
      name: 'Ofertas',
      icon: 'nav-deals-icon',
      selected: false,
      id: 'deals',
    },
  ],
};

const baseProps = {
  isUserLoggedIn: true,
  navMenuSwitchId: 'nav-header-user-menu',
  guestMenu: {
    userLinks: userLinksProps,
  },
  loggedInMenu: {
    welcome: {},
    userLinks: userLinksProps,
    modelessBox: {},
    userWidget: {},
  },
};

describe('Mercado Libre Navigation', () => {
  describe('User Menu Desktop Component', () => {
    it('matches the default snapshot for user menu in desktop for logged in user', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <UserMenuDesktop {...baseProps} />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for user menu in desktop for guest user', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <UserMenuDesktop {...baseProps} isUserLoggedIn={false} />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
