const React = require('react');
const PropTypes = require('prop-types');
const Image = require('frontend-image');

const namespace = 'nav-header-avatar-user';
const Avatar = (props) => {
  const {
    hasPicture,
    lowDensityPictureUrl,
    highDensityPictureUrl,
    lazyLoad,
    alt,
  } = props;

  return (
    <span className={namespace} data-js="user-menu:nav-header-avatar-user">
      { hasPicture
        ? (<Image
            src={lowDensityPictureUrl}
            srcSet={`${highDensityPictureUrl} 2x`}
            alt={alt}
            lazyload={lazyLoad}
            className={`${namespace}-img`}
            height="20"
            width="20"
            onload="off"
        />)
        : <i className="nav-icon-user" /> }
    </span>
  );
};

Avatar.propTypes = {
  hasPicture: PropTypes.bool,
  lowDensityPictureUrl: PropTypes.string,
  alt: PropTypes.string,
  highDensityPictureUrl: PropTypes.string,
  lazyLoad: PropTypes.string,
};

Avatar.defaultProps = {
  lowDensityPictureUrl: null,
  highDensityPictureUrl: null,
  hasPicture: false,
  lazyLoad: 'off',
  alt: null,
};

module.exports = Avatar;
