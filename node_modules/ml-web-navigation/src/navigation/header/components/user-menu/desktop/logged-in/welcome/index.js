const React = require('react');
const PropTypes = require('prop-types');
const Avatar = require('../avatar');
const FallbackMenu = require('../fallback-menu');

const namespace = 'nav-header';
const Welcome = (props) => {
  const {
    show,
    showAvatar,
    avatar,
    nickname,
    fallbackMenu,
  } = props;

  return !show ? null : (
    <div className={`${namespace}-user`}>
      <label htmlFor={`${namespace}-user-switch`}>
        { showAvatar
          ? (
            <span>
              <Avatar {...avatar} />
              <span className={`${namespace}-username`}>
                {nickname}
              </span>
              <span className={`${namespace}-username-chevron`} />
            </span>
          )
          : (
            <span>{nickname} <i className="nav-icon-user" /></span>
          )}
      </label>
      <input type="checkbox" id="nav-header-user-switch" />
      <FallbackMenu {...fallbackMenu} />
    </div>
  );
};

Welcome.propTypes = {
  avatar: PropTypes.object.isRequired,
  fallbackMenu: PropTypes.object.isRequired,
  show: PropTypes.bool.isRequired,
  showAvatar: PropTypes.bool.isRequired,
  nickname: PropTypes.string.isRequired,
};

module.exports = Welcome;
