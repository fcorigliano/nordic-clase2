const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const UserLinks = require('.');

describe('Mercado Libre Navigation', () => {
  describe('User Links Component', () => {
    it('matches the default snapshot for user links', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <UserLinks
          links={[
            {
              link: {
                href: 'https://www.mercadolibre.com.ar',
              },
              name: 'Inicio',
              id: 'home',
            },
            {
              link: {
                href: 'https://www.mercadolibre.com.ar/ofertas',
              },
              name: 'Ofertas',
              id: 'discounts',
            },
          ]}
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for user links while using modeless box', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <UserLinks
          links={[
            {
              link: {
                href: 'https://www.mercadolibre.com.ar',
              },
              name: 'Inicio',
              id: 'home',
              modelessBoxCallback: 'first callback',
            },
            {
              link: {
                href: 'https://www.mercadolibre.com.ar/ofertas',
              },
              name: 'Ofertas',
              id: 'discounts',
              modelessBoxCallback: 'second callback',
            },
          ]}
          modelessBox={{
            baseUrl: 'https://ml.static.com',
            version: '1.0.0',
            mainDomain: 'www.mercadolibre.com.ar',
          }}
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
