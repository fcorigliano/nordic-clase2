const isUserLoggedIn = require('@frontend-navigations/commons/is-user-logged-in');
const guestMenuMobileProps = require('./mobile/guest/props');
const guestMenuDesktopProps = require('./desktop/guest/props');
const loggedInMenuMobileProps = require('./mobile/logged-in/props');
const loggedInMenuDesktopProps = require('./desktop/logged-in/props');
const isDesktop = require('../../../utils/is-desktop');

const userMenuProps = (props, linkTagsProps) => {
  const { user } = props;

  const baseUserMenuProps = {
    isUserLoggedIn: isUserLoggedIn(props),
    isDesktop: isDesktop(props),
    ...linkTagsProps,
  };

  if (user) {
    baseUserMenuProps.loggedInMenu = {
      mobile: loggedInMenuMobileProps(props),
      desktop: loggedInMenuDesktopProps(props),
    };
  } else {
    baseUserMenuProps.guestMenu = {
      mobile: guestMenuMobileProps(props),
      desktop: guestMenuDesktopProps(props),
    };
  }

  return baseUserMenuProps;
};

module.exports = userMenuProps;

