// eslint-disable-next-line max-len
const downloadAppLink = require('./enhancement');

describe('Mercado Libre Navigation', () => {
  describe('Download App Link Props', () => {
    it('returns a valid set of props for download link app', () => {
      const url = {
        link: {
          href: 'https://www.mercadolibre.com.ar',
        },
        name: 'Home',
      };
      const props = {
        device: {
          osName: 'android',
        },
      };

      const urlWithInjectedProps = downloadAppLink.enhance(url, props);

      expect(urlWithInjectedProps.link.href).toEqual(url.link.href);
      expect(urlWithInjectedProps.name).toEqual(url.name);
      expect(urlWithInjectedProps.SideEffect).toBeDefined();
    });

    it('returns a valid set of props for download link app with no OS since it is not defined', () => {
      const url = {
        link: {
          href: 'https://www.mercadolibre.com.ar',
        },
        name: 'Home',
      };
      const props = {
        device: {},
      };

      const urlWithInjectedProps = downloadAppLink.enhance(url, props);

      expect(urlWithInjectedProps.link.href).toEqual(url.link.href);
      expect(urlWithInjectedProps.name).toEqual(url.name);
      expect(urlWithInjectedProps.SideEffect).toBeDefined();
    });
  });
});
