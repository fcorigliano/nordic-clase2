/* eslint-disable react/no-array-index-key */
const React = require('react');
const PropTypes = require('prop-types');
const UserLink = require('../user-link');
const ModelessBox = require('../../../../../widgets/modeless-box');

const UserLinks = ({ sectionsLinks, linkTags, modelessBox }) => {
  const sectionLinksElement = sectionsLinks.map((sectionLinks, sectionsIndex) => (
    <ul key={sectionsIndex}>
      {
        sectionLinks.map(link => (
          <li
            key={link.id}
            className={link.selected ? 'nav-mobile-menu-selected' : undefined}
          >
            <UserLink
              {...link}
              key={link.id}
              linkTag={linkTags[link.id]}
            />
          </li>
        ))
      }
    </ul>
  ));

  return (
    <>
      {modelessBox && <ModelessBox {...modelessBox} />}
      {sectionLinksElement}
    </>
  );
};

UserLinks.propTypes = {
  sectionsLinks: PropTypes.arrayOf(
    PropTypes.arrayOf(PropTypes.shape({
      selected: PropTypes.bool.isRequired,
    })),
  ).isRequired,
  linkTags: PropTypes.object,
  modelessBox: PropTypes.object,
};

UserLinks.defaultProps = {
  linkTags: {},
  modelessBox: null,
};

module.exports = UserLinks;
