const React = require('react');
const PropTypes = require('prop-types');
const classNames = require('classnames');
const LoyaltyIcon = require('./icon');

const id = 'nav-header-user-mail-or-level';
const namespace = 'nav-header-mobile-loyalty';
const Loyalty = (props) => {
  const { hasLoyalty, level, href, levelName, email } = props;
  const className = hasLoyalty ? `${namespace}-level-${level}` : '';
  const linkClassName = classNames(className, `${namespace}-link`);

  return (
    <div id={id}>
      { hasLoyalty
        ? (
          <a className={linkClassName} href={href}>
            <span>{levelName}</span>
            <LoyaltyIcon namespace={namespace} className={className} />
          </a>
        ) : (
          <span>{email}</span>
        ) }
    </div>
  );
};

Loyalty.propTypes = {
  hasLoyalty: PropTypes.bool.isRequired,
  level: PropTypes.number,
  href: PropTypes.string,
  levelName: PropTypes.string,
  email: PropTypes.string,
};

Loyalty.defaultProps = {
  level: null,
  href: '',
  levelName: '',
  email: null,
};

module.exports = Loyalty;
