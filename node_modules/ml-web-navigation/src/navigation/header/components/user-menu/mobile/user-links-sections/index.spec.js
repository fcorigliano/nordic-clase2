const React = require('react');
const Renderer = require('react-test-renderer');
const UserLinksSections = require('.');

const linkTagsProps = {
  linkTags: {
    deals: {
      name: 'Nuevo',
    },
  },
};

const userLinksSectionsProps = {
  sectionsLinks: [
    [
      {
        link: {
          href: 'https://www.mercadolibre.com.ar',
        },
        name: 'Inicio',
        icon: 'nav-home-icon',
        selected: false,
        id: 'home',
      },
    ],
    [
      {
        link: {
          href: 'https://www.mercadolibre.com.ar/ofertas',
        },
        name: 'Ofertas',
        icon: 'nav-deals-icon',
        selected: false,
        id: 'deals',
      },
    ],
  ],
};

describe('Mercado Libre Navigation', () => {
  describe('User Links Sections Component', () => {
    it('matches the default snapshot for user links sections with no link selected', () => {
      const renderer = Renderer.create(
        <UserLinksSections
          sectionsLinks={userLinksSectionsProps.sectionsLinks}
          linkTags={{}}
        />,
      );

      expect(renderer.toJSON()).toMatchSnapshot();
    });

    it('matches the snapshot for user links sections with related link tags', () => {
      const renderer = Renderer.create(
        <UserLinksSections
          sectionsLinks={userLinksSectionsProps.sectionsLinks}
          linkTags={linkTagsProps.linkTags}
        />,
      );

      expect(renderer.toJSON()).toMatchSnapshot();
    });

    it('matches the default snapshot for user links sections with link selected', () => {
      const renderer = Renderer.create(
        <UserLinksSections
          sectionsLinks={userLinksSectionsProps.sectionsLinks.map(
            section => section.map(link => ({ ...link, selected: true })),
          )}
          linkTags={{}}
        />,
      );

      expect(renderer.toJSON()).toMatchSnapshot();
    });
  });
});
