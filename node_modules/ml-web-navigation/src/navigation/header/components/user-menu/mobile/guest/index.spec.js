const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const GuestUserMenu = require('.');

const userLinksSectionsProps = {
  sectionsLinks: [
    [
      {
        link: {
          href: 'https://www.mercadolibre.com.ar',
        },
        name: 'Inicio',
        icon: 'nav-home-icon',
        selected: false,
        id: 'home',
      },
    ],
    [
      {
        link: {
          href: 'https://www.mercadolibre.com.ar/ofertas',
        },
        name: 'Ofertas',
        icon: 'nav-deals-icon',
        selected: false,
        id: 'deals',
      },
    ],
  ],
};

const baseProps = {
  welcome: {
    login: { link: 'https://www.mercadolibre.com/jms/mla/lgz/login', name: 'Ingresá' },
    registration: { link: 'https://www.mercadolibre.com.ar/registration', name: 'Creá tu cuenta' },
    title: 'Bienvenido',
    subtitle: 'Ingresa a tu cuenta',
  },
  userLinksSections: userLinksSectionsProps,
};

describe('Mercado Libre Navigation', () => {
  describe('Guest User Menu Mobile Component', () => {
    it('matches the default snapshot for GuestUserMenu component', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <GuestUserMenu
          {...baseProps}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
