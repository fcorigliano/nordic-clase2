const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const NavMenu = require('.');

describe('Mercado Libre Navigation', () => {
  describe('Nav Menu Component', () => {
    it('matches the default snapshot for nav menu', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenu
          links={[{
            link: {
              href: 'https://www.mercadolibre.com.ar',
              className: 'nav-menu-link',
            },
            id: 'home',
            name: 'Inicio',
          },
          {
            link: {
              href: 'https://www.mercadolibre.com.ar/ayuda',
              className: 'nav-menu-link',
            },
            id: 'help',
            name: 'Ayuda',
          }]}
          show
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for nav menu with a link tag', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenu
          links={[{
            link: {
              href: 'https://www.mercadolibre.com.ar',
              className: 'nav-menu-link',
            },
            id: 'home',
            name: 'Inicio',
          },
          {
            link: {
              href: 'https://www.mercadolibre.com.ar/ayuda',
              className: 'nav-menu-link',
            },
            id: 'help',
            name: 'Ayuda',
          }]}
          linkTags={{
            home: {
              name: 'Nuevo',
              small: true,
            },
          }}
          show
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the snapshot for nav menu with link null', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenu
          links={[{
            link: {
              href: 'https://www.mercadolibre.com.ar',
              className: 'nav-menu-link',
            },
            id: 'home',
            name: 'Inicio',
          }, null, undefined]}
          show
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });
    it('matches the snapshot nav menu show false', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <NavMenu
          links={[{
            link: {
              href: 'https://www.mercadolibre.com.ar',
              className: 'nav-menu-link',
            },
            id: 'home',
            name: 'Inicio',
          }, null, undefined]}
          show={false}
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
