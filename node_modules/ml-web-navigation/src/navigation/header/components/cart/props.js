const countryConfig = require('frontend-country_config');
const isMobile = require('../../../utils/is-mobile');

const cartProps = (props) => {
  const { cartInfo, type, navigationUrls, cdn, platform } = props;
  const show = cartInfo && cartInfo.badge_icon !== undefined;
  let locale = 'es';
  if (countryConfig(platform.countryId) && countryConfig(platform.countryId).locale) {
    locale = countryConfig(platform.countryId).locale.substring(0, 2);
  }
  return {
    cartInfo,
    type,
    url: navigationUrls.cart.link,
    title: navigationUrls.cart.name,
    show,
    isMobile: isMobile(props),
    cdnDomain: cdn.link,
    locale,
  };
};

module.exports = cartProps;
