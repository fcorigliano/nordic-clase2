const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const Cart = require('.');

const baseProps = {
  cartInfo: { badge_icon: { quantity: 0 }, location: { type: 'address', value: '1014518121' } },
  show: true,
  isMobile: false,
  url: 'https://www.mercadolibre.com.ar/gz/cart',
  title: 'Carrito',
  cdnDomain: 'https://http2.mlstatic.com',
};

describe('Mercado Libre Navigation', () => {
  describe('Cart Component', () => {
    it('matches the default snapshot for Cart component', () => {
      jest
        .useFakeTimers()
        .setSystemTime(new Date('2021-06-01').getTime());

      const renderer = new ShallowRenderer();
      const component = (
        <Cart {...baseProps} />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('renders nothing since show=false', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <Cart {...baseProps} show={false} />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
