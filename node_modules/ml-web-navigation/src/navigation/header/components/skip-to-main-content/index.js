/* eslint-disable nordic/i18n-jsx-no-literals */
/* eslint-disable max-len */
const React = require('react');
const Style = require('frontend-style');
const PropTypes = require('prop-types');
const Script = require('frontend-script');
const tabIndexes = require('../../../utils/tab-index');
const readClientFile = require('../../../utils/read-client-file');

const clientFileContent = readClientFile('skip-to-main-content-tracking.js');

// Head's UP! Here we are using the minified versions of our css files
// We need them to be inline, that's why we want to minify them so save as much bundle size as possible
// If you want to make changes to them, please see files ./styles.css
// apply changes there, minify them and then paste them here.
const namespace = 'nav-skip-to-main-content';
const SkipToMainContent = (props) => {
  const { text, mainContent, searchFocus } = props;
  return (
    <>
      <Style renderChildrenInPlace={false}>
        {'a.nav-skip-to-main-content{border:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px;position:absolute;color:#fff;font-weight:100;text-decoration:none;text-align:center;background:#3484fa;top:0;left:0;z-index:999;cursor:pointer;height:0;padding:0;line-height:normal}a.nav-skip-to-main-content:focus{border:1px solid #3484fa;height:54px;padding:8px 8px}.nav-skip-to-main-content>.nav-skip-to-main-content__content{display:none}.nav-skip-to-main-content:focus>.nav-skip-to-main-content__content{display:block;padding:8px;border:1px solid #fff;border-radius:4px}'}
      </Style>
      <Script on="now">
        {clientFileContent}
      </Script>
      <a
        id={namespace}
        role="button"
        href={mainContent}
        className={namespace}
        tabIndex={tabIndexes('skip-to-main-content', searchFocus)}
        aria-label={text}
      >
        <span className={`${namespace}__content`}>
          {text}
        </span>
      </a>
    </>
  );
};

SkipToMainContent.propTypes = {
  text: PropTypes.string.isRequired,
  mainContent: PropTypes.string,
  searchFocus: PropTypes.bool,
};

SkipToMainContent.defaultProps = {
  mainContent: '#root-app',
  searchFocus: false,
};

module.exports = SkipToMainContent;
