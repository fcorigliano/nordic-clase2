const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const SearchboxDesktop = require('./searchbox.desktop');

describe('Mercado Libre Navigation', () => {
  describe('Searchbox Desktop Component', () => {
    let props;
    beforeEach(() => {
      props = {
        isFocus: true,
        inputLabel: 'Ingresá lo que quieras encontrar',
        placeholder: 'Buscar productos, marcas y más…',
        iconLabel: 'Buscar',
        isLowEnd: false,
        action: 'https://www.mercadolibre.com.ar/jm/search',
        widget: {
          baseUrl: 'https://www.mercadolibre.com.ar/jm/search',
          platformId: 'ML',
          siteId: 'MLA',
          searchEndpoint: '',
          categoryEndpoint: '',
          isUserLoggedIn: false,
          siteDomain: '',
          deviceType: '',
          version: '',
        },
      };
    });

    it('matches the default snapshot for searchbox desktop component', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <SearchboxDesktop {...props} />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
    it('matches the snapshot for searchbox desktop with category component', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <SearchboxDesktop
          {...props}
          category={{
            id: 'mlCategory',
            name: 'Juguetes',
            defaultChecked: false,
          }}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the snapshot for searchbox desktop with custom defaultValue', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <SearchboxDesktop
          {...props}
          defaultValue="iphone"
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
