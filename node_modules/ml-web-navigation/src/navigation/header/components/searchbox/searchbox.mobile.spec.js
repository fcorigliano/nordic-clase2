const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const SearchMobile = require('./searchbox.mobile');

describe('Mercado Libre Navigation', () => {
  describe('Searchbox Mobile Component', () => {
    let props;
    beforeEach(() => {
      props = {
        isFocus: true,
        inputLabel: 'Ingresá lo que quieras encontrar',
        placeholder: 'Buscar productos, marcas y más…',
        iconLabel: 'Buscar',
        isLowEnd: false,
        action: 'https://www.mercadolibre.com.ar/jm/search',
        placeholderMobile: 'Buscar...',
        closeTitle: 'Cerrar',
        clearTitle: 'Limpiar',
        isMobile: false,
        widget: {
          baseUrl: 'https://www.mercadolibre.com.ar/jm/search',
          platformId: 'ML',
          siteId: 'MLA',
          searchEndpoint: '',
          categoryEndpoint: '',
          isUserLoggedIn: false,
          siteDomain: '',
          deviceType: '',
          version: '',
        },
      };
    });
    it('matches the default snapshot for searchbox mobile component', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <SearchMobile {...props} />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the snapshot for searchbox mobile component with custom defaultValue', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <SearchMobile
          {...props}
          defaultValue="iphone"
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
