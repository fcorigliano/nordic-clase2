const originalProps = {
  device: {
    osName: 'android',
  },
  platform: {
    id: 'ML',
    siteId: 'MLA',
  },
  req: 'some-request',
};

describe('Mercado Libre Navigation', () => {
  describe('Icons', () => {
    it('matches the snapshot for platform/site icons', () => {
      const getValue = jest.fn().mockReturnValue({
        'some-icon-key-1': 'some-icon-classname-1',
        'some-icon-key-2': 'some-icon-classname-2',
      });
      jest.doMock('ml-navigation-config', () => ({ getValue }));

      const icons = require('./icons');

      icons.inject(originalProps);

      expect(originalProps).toMatchSnapshot();
      expect(getValue).toHaveBeenCalledWith({
        key: 'mobileHeaderMenuIcons',
        platform: originalProps.platform,
        req: originalProps.req,
      });
    });
  });
});

