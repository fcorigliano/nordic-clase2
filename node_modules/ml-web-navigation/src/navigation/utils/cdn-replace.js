/* eslint-disable security/detect-non-literal-fs-filename */
/* eslint-disable security/detect-object-injection */
const CDNS = {
  default: {
    name: 'default',
    link: 'https://http2.mlstatic.com',
    cssFileSuffix: '',
  },
  akamaiQuic: {
    name: 'akamaiQuic',
    link: 'https://mlstaticquic-a.akamaihd.net',
    cssFileSuffix: '-akamai-quic',
  },
  assets: {
    name: 'assets',
    link: 'https://assets.mlstatic.com',
    cssFileSuffix: '-assets',
  },
};

const cdnReplace = (url, cdnName) => {
  const isUrlValid = url && url.replace;
  const isCdnNameValid = cdnName && CDNS[cdnName];

  return isUrlValid && isCdnNameValid ? url.replace(CDNS.default.link, CDNS[cdnName].link) : url;
};

module.exports = cdnReplace;
