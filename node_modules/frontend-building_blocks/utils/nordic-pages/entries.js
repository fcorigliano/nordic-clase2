const { nordicPagesEnabled } = require('./helpers');
const { POLYFILLS_ENTRY_NAME } = require('./helpers/constants');
const { generateClientsAndEntries } = require('../../common/nordic-pages/clients-and-entries');
const { getNonHydratedEntriesCount } = require('../../common/nordic-pages/clients-and-entries/utils/hydrate');

const entryPoints = nordicPagesEnabled ? generateClientsAndEntries() : {};
const countOfHydratedEntries = Object
  .keys(entryPoints)
  .filter((entryName) => entryName !== POLYFILLS_ENTRY_NAME).length - getNonHydratedEntriesCount();

module.exports = {
  entryPoints,
  countOfHydratedEntries,
};
