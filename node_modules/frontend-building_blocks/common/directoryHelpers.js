const { existsSync, mkdirSync, rmdirSync } = require('fs');

const { log } = require('./logger');

const createDirectory = (dirPath, errMessage = '') => {
  if (!existsSync(dirPath)) {
    try {
      mkdirSync(dirPath, { recursive: true });
    } catch (err) {
      if (err) {
        log.error(errMessage + err);
      }
    }
  }
};

const cleanDirectory = (dirPath, errMessage = '') => {
  if (existsSync(dirPath)) {
    try {
      rmdirSync(dirPath, { recursive: true });
    } catch (err) {
      if (err) {
        log.error(errMessage + err);
      }
    }
  }
};

module.exports = {
  createDirectory,
  cleanDirectory,
};
exports = module.exports;
