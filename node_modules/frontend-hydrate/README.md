# frontend-hydrate

# Table of Contents
- [Description](#description)
- [Usage](#usage)
- [Install](#install)
- [Example](#example)
- [Full Specs](#fullspecs)
- [Development](#development)
- [Tests](#tests)
- [Contributing](#contributing)
- [Changelog](#changelog)

## Description

`frontend-hydrate` is used to hydrate a React container whose HTML contents were rendered by ReactDOMServer. It has the
  same API as [ReactDOM.hydrate](https://reactjs.org/docs/react-dom.html#hydrate) and even more uses it under the hood.
  The main difference between original `hydrate` and this module is that the `frontend-hydrate` silently recollects some
  performance related metrics by using the [Perfill agent](https://github.com/mercadolibre/fury_perfill-agent).

## Usage

### Install
```
npm install --save frontend-hydrate
```

### Example
```js
// import frontend-hydrate to use instead of ReactDOM.hydrate
const { hydrate } = require('frontend-hydrate');

// Or the legacy way
const hydrate = require('frontend-hydrate');

// import the page view
const View = require('../pages/view');

// render into the DOM or update provided view component
hydrate(<View { ...window.__PRELOADED_STATE__ } />, document.getElementById('root-app'));
```

### Full Specs

Argument | Type | Required | Description
-------- | ---- | -------- | -----------
View | `ReactComponent` | Yes | A React component that should be rendered or updated
container | `Element / string` | Yes | An existing DOM element where the component should be rendered to
callback | `Function` | No | A function to be called after the component is rendered or updated


### Development

1) Install dependencies:

```
npm install 
```

2) Continuously build the component:

```
npm run watch
```

### Tests
```npm
npm test
```

## Contributing

In order to contribute to this library, you must read [this guide](CONTRIBUTING.md) first.

## Changelog

We keep changes to our codebase [here](CHANGELOG.md)
