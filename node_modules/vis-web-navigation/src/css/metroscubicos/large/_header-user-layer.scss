.nav-header-user {
	display: inline-block;
	position: relative;
	height: $large-header-height - 10;
	line-height: $large-header-height - 10;
}

[for='nav-header-user-switch'] {
	cursor: pointer;
	font-size: $header-username-text-size;
	color: $large-header-menu-text-color;
	margin: 0 $header-menu-link-hpadding;
	padding: 10px 0;
	text-transform: uppercase;
	display: inline;

	// Over state
	&:hover {
		color: $header-menu-hover-text-color;

		#nav-header-menu & i:before { // Specificity killer, deprecated in 0.2.0
			color: $header-menu-hover-icon-color;
		}
	}

	.ie8 &,
	.lt-ie9 & {
		margin: 0;
	}

	// Username in ie8
	.ie8 #nav-header-menu & a, // Specificity killer, deprecated in 0.2.0
	.lt-ie9 #nav-header-menu & a { // Specificity killer, deprecated in 0.2.0
		font-size: $header-username-text-size;
	}
}

#nav-header-user-switch {
	display: none;

	// Open state
	&:checked + .nav-header-user-layer {
		display: block;
	}
}

.nav-header-user-layer {
	background-color: $header-user-layer-bg-color;
	border: $header-user-layer-border-width solid $header-user-layer-border-color;
	border-radius: $header-user-layer-border-radius;
	box-shadow: $header-user-layer-shadow;
	right: $header-user-layer-right;
	position: absolute;
	top: 100%;
	z-index: 3;
	width: $header-user-layer-width;
	display: none;

	// Cone
	&:before,
	&:after {
		border: outset transparent; // border transparent bug on FF: http://stackoverflow.com/a/6225439
		border-bottom-style: solid;
		bottom: 100%;
		content: '';
		display: block;
		height: 0;
		pointer-events: none;
		position: absolute;
		width: 0;
	}

	// Cone border
	&:before {
		border-bottom-color: $header-user-layer-border-color;
		border-width: $header-user-layer-cone-size;
		right: $header-user-layer-cone-right;
	}

	// Cone background
	&:after {
		border-bottom-color: $header-user-layer-bg-color;
		border-width: $header-user-layer-cone-size - $header-user-layer-border-width;
		right: $header-user-layer-cone-right + $header-user-layer-border-width;
	}
}

#nav-header-menu .nav-header-user-layer a {
	color: $header-user-layer-text-color;
	display: block;
	line-height: $header-user-layer-line-height;
	margin: $header-user-layer-link-margin;
	padding: $header-user-layer-link-padding;
	text-decoration: none;
	border-left: none;

	&:last-child {
		display: block;
	}

	&:hover {
		color: $header-user-layer-text-color;
		background-color: $header-user-layer-hover-bg-color;
	}
}
