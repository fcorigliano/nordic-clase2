// Loading
//
// Loading indicator with three different modes.
// Spinner can also be small or large: apply modifier to spinner element `.ui-loading__spinner`, `.ui-loading__spinner--small` or `.ui-loading__spinner--large`.
//
// Markup: ../../components/loading/_loading.hbs
//
// .ui-loading--inline - Use this class to make the loading standalone and with no defined positioning.
// .ui-loading--block - Use this class to make the loading occupy all of its parent's size (parent's position should be `relative`), and apply a mask beneath it.
// .ui-loading--fullscreen - Use this class to make the loading occupy all of the page's space (`body`'s position should be `relative`), and apply a mask beneath it.
//
// Styleguide Components.loading


.ui-loading--inline {
    position: relative;
}

.ui-loading--block {
    position: absolute;
    z-index: $loading-block-mask-z-index;

    .ui-loading__container {
        z-index: $loading-block-spinner-z-index;
    }
}

.ui-loading--fullscreen {
    position: fixed;
    z-index: $loading-fullscreen-mask-z-index;

    .ui-loading__container {
        z-index: $loading-fullscreen-spinner-z-index;
    }
}

.ui-loading--block,
.ui-loading--fullscreen,
.ui-loading__mask {
    @include square(100%);
    top: 0;
    left: 0;
}

// Needed for absolutely/fixed positioned loadings,
// in order to correctly center the spinner
.ui-loading--block,
.ui-loading--fullscreen {
    .ui-loading__container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
}

.ui-loading__mask {
    position: absolute;
    background-color: transparentize($white, 0.1);
}

// Do not apply mask on inline mode
.ui-loading--inline .ui-loading__mask {
    display: none;
}

.ui-loading__spinner {
    @include square($loading-size-default);
    animation: loading-rotate 2s linear infinite;
    transform-origin: center center;
    position: relative;
}

.ui-loading__spinner--small {
    @include square($loading-size-small);
}

.ui-loading__spinner--large {
    @include square($loading-size-large);
}

.ui-loading__spinner-path {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -10;
    animation: loading-dash 1.5s ease-in-out infinite, loading-color 6s ease-in-out infinite;
    stroke-linecap: round;
    stroke: $blue-100;
}

@keyframes loading-rotate {
    100% {
        transform: rotate(360deg);
    }
}

@keyframes loading-dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }

    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35px;
    }

    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124px;
    }
}

@keyframes loading-color {
    100%,
    0% {
        stroke: $blue-100;
    }
}
