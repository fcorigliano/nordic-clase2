const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const FooterUserMenu = require('.');

describe('Classified Navigation', () => {
  describe('Footer User Menu', () => {
    it('matches the default snapshot for Footer User Menu, rendering the guest menu', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <FooterUserMenu
          guestMenu={{
            links:
              [{
                href: 'https://www.mercadolibre.com.ar/registration',
                name: 'CreÃ¡ tu cuenta',
                id: 'registration',
              }],
          }}
          isUserLoggedIn={false}
        />
      );

      const renderedComponent = renderer.render(component);

      expect(renderedComponent).toMatchSnapshot();
      expect(renderedComponent.type.name).toEqual('GuestMenu');
    });

    it('matches the default snapshot for Footer User Menu, rendering the logged in menu', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <FooterUserMenu
          loggedInMenu={{
            lowDensityPictureUrl: 'https://www.mercadolibre.com.ar/image.jpg',
            highDensityPictureUrl: 'https://www.mercadolibre.com.ar/big-image.jpg',
            hasPicture: true,
            lazyLoad: 'off',
            username: 'username',
            logout: {
              link: '/logout',
              name: 'Salir',
            },
            link: '/my-account',
          }}
          isUserLoggedIn
        />
      );

      const renderedComponent = renderer.render(component);

      expect(renderedComponent).toMatchSnapshot();
      expect(renderedComponent.type.name).toEqual('FooterLoggedInUserMenu');
    });
  });
});
