const React = require('react');
const PropTypes = require('prop-types');
const Image = require('frontend-image');

const namespace = 'nav-footer-access';
const GroupedMenu = (props) => {
  const { title, links } = props;

  return (
    <div className={`${namespace}-col`}>
      <h5 className={`${namespace}-title`}>{title}</h5>
      <ul>
        {
          links.map(link => (
            <li key={link.id}>
              <a {...link.link}>
                {link.name}
                { link.icon && link.icon.image
                  && <Image
                    className="nav-footer-access-icon"
                    src={link.icon.image}
                    srcSet={`${link.icon.image2x} 2x`}
                    title={link.name}
                    alt={link.name}
                    width={link.icon.width}
                    height={link.icon.height}
                    onload="off"
                  />}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
  );
};

GroupedMenu.propTypes = {
  title: PropTypes.string.isRequired,
  links: PropTypes.array.isRequired,
};

module.exports = GroupedMenu;
