/* eslint-disable security/detect-non-literal-fs-filename */
/* eslint-disable security/detect-object-injection */
const { mapLinksToUrls } = require('./links');

/**
 * Creates an array of arrays that represents each section in the guest user menu, with each link formatted
 * @param {array} sectionLinks - array of different arrays that represent what links we want to use
 * example: [['home', 'downloadApp'], ['discounts']]
 * @param {object} urls - object with the id for the url as key and the information for that url as value
 * example: { home: { link: '...', name: '...' }}
 * @param {string} currentURL - Current URL for the application - example: https://www.mercadolibre.com.ar/moda
 * @param {object} originalProps - Props passed on from
 * @returns {bool} returns true if url exists and has a link
 * TODO: it would be nice to validate sectionLinks and Urls structure in the future and log in case we have any error.
 */
const mapSectionsLinksToUrls = ({ sectionsLinks, ...props }) => {
  const sectionLinksUrls = sectionsLinks.map((section) => {
    const links = mapLinksToUrls({ links: section, ...props });

    return links;
  });

  return sectionLinksUrls;
};

module.exports = mapSectionsLinksToUrls;
