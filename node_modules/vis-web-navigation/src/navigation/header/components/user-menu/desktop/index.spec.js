const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const DesktopUserMenu = require('.');

describe('Classifieds Navigation', () => {
  describe('User Menu Desktop Component', () => {
    it('matches the default snapshot for DesktopUserMenu component when user is logged in', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <DesktopUserMenu
          isUserLoggedIn
          loggedInMenu={{
            welcome: {
              show: true,
              showAvatar: true,
              avatar: {},
              type: 'full',
              nickname: 'Test',
              fallbackMenu: {
                links: [{
                  link: {
                    href: 'https://www.tucarro.com.ve',
                  },
                  name: 'Inicio',
                  icon: 'nav-home-icon',
                  selected: false,
                  id: 'home',
                },
                {
                  link: {
                    href: 'https://www.tucarro.com.ve/ofertas',
                  },
                  name: 'Ofertas',
                  icon: 'nav-deals-icon',
                  selected: false,
                  id: 'deals',
                }],
              },
            },
            userLinks: {
              links: [
                {
                  link: {
                    href: 'https://www.tucarro.com.ve',
                  },
                  name: 'Inicio',
                  icon: 'nav-home-icon',
                  selected: false,
                  id: 'home',
                },
                {
                  link: {
                    href: 'https://www.tucarro.com.ve/ofertas',
                  },
                  name: 'Ofertas',
                  icon: 'nav-deals-icon',
                  selected: false,
                  id: 'deals',
                },
              ] },
            userWidget: {
              baseUrl: 'https://ml.static.com',
              version: '1.0.0',
              domain: 'www.tucarro.com.ve',
              show: true,
            } }}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for DesktopUserMenu component when user is logged in', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <DesktopUserMenu
          isUserLoggedIn={false}
          guestMenu={{
            userLinks: {
              links: [],
            },
          }}
        />
      );

      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
