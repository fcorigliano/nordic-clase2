const isUserLoggedIn = require('@frontend-navigations/commons/is-user-logged-in');
const guestMenuDesktopProps = require('./desktop/guest/props');
const loggedInMenuDesktopProps = require('./desktop/logged-in/props');
const loggedInMenuMobileProps = require('./mobile/logged-in/props');
const guestMenuMobileProps = require('./mobile/guest/props');

const userMenuProps = (props) => {
  const { user } = props;

  const baseUserMenuProps = {
    isUserLoggedIn: isUserLoggedIn(props),
    isDesktop: props.device.desktop || false,
  };

  if (user) {
    baseUserMenuProps.loggedInMenu = {
      mobile: loggedInMenuMobileProps(props, {
        variant: 'medium',
      }),
      desktop: loggedInMenuDesktopProps(props),
    };
  } else {
    baseUserMenuProps.guestMenu = {
      mobile: guestMenuMobileProps(props),
      desktop: guestMenuDesktopProps(props),
    };
  }

  return baseUserMenuProps;
};

module.exports = userMenuProps;

