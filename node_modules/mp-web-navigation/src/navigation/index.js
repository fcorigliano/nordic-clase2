const React = require('react');
const PropTypes = require('prop-types');
const Favicons = require('@frontend-navigations/commons/lib/favicons-component');
const Header = require('./header');
const Footer = require('./footer');
const footerProps = require('./footer/props');
const headerProps = require('./header/props');
const SignUpMessage = require('./widgets/sign-up-messages');
const Tracking = require('./widgets/tracking');
const { isHidden } = require('../layout-type-detection');
const Css = require('./css');
const cssProps = require('./css/props');
const faviconsProps = require('./favicons/props');

const Navigation = ({ children, ...props }) => {
  if (isHidden(props.type)) {
    return [children];
  }

  return [
    <Css {...cssProps(props)} />,
    <Favicons {...faviconsProps(props)} />,
    <SignUpMessage />,
    <Header {...headerProps(props)} />,
    <Tracking />,
    children,
    <Footer {...footerProps(props)} />,
  ];
};

Navigation.propTypes = {
  children: PropTypes.oneOfType([
    PropTypes.arrayOf(PropTypes.node),
    PropTypes.node,
  ]).isRequired,
};

module.exports = Navigation;
