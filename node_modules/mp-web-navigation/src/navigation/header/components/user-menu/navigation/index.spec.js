const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const Navigation = require('.');

const baseProps = {
  links: [
    {
      key: 'summary',
      target: '_blank',
      name: 'Mi cuenta',
      link: 'https://www.mercadopago.com.ar/summary',
      showIcon: false,
    },
    {
      key: 'helpMain',
      target: '_blank',
      name: 'Ayuda',
      link: 'https://www.mercadopago.com.ar/ayuda',
      showIcon: false,
    },
    {
      key: 'logout',
      target: '_self',
      name: 'Salir',
      link:
        'https://www.mercadolibre.com/jms/mla/lgz/logout?go=https://www.mercadopago.com.ar?go=https%3A%2F%2Fdev.mercadopago.com.ar%3A8443%2F',
      showIcon: false,
    },
  ],
  isLoggedIn: true,
  userInfo: {
    greeting: 'hola',
    brandTitle: 'Mi Mercado Pago',
    redirect: { link: 'wwww.mercadolibre.com.ar' },
    fullName: 'firstName lastName',
    userAvatar: {
      avatar: 'one-image.jpg',
      avatarAlt: 'first name last name',
    },
  },
  siteId: 'MLA',
  deviceType: 'desktop',
  landingNavigationVersion: '0.0.0',
  uiNavigationVersion: '1.2.3',
};

describe('Mercado Pago Navigation', () => {
  describe('Navigation Component', () => {
    it('matches the default snapshot for navigation with logged user', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <Navigation
          {...baseProps}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for navigation with guest user', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <Navigation
          {...baseProps}
          isLoggedIn={false}
          userInfo={null}
        />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});
