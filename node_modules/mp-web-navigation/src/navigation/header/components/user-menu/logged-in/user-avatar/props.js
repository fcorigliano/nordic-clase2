const { getUserPicture } = require('@frontend-navigations/commons/user-pictures');

const DEFAULT_AVATAR = '/resources/frontend/statics/point-landings/c4d7a19d750a38727d7f57a2b6eb4c8a.png';

const userAvatarProps = (props) => {
  const {
    user,
    cdn,
    browser,
    navigationPIIData,
  } = props;

  const avatarAlt = navigationPIIData.preferredName || user.nickname;
  const userPicture = getUserPicture(user, 'small', { browser });

  return {
    avatar: userPicture || `${cdn.link}${DEFAULT_AVATAR}`,
    avatarAlt,
  };
};

module.exports = userAvatarProps;
