const { getValue } = require('mp-navigation-config');
const {
  getLoginURL,
  getLogoutURL,
  getRegistrationURL,
} = require('@auth/urls');

const getUrlConfig = (req, res, props) => {
  const urlConfig = getValue({
    key: 'url',
    req,
  }) || {};

  return {
    ...props.urls, // TODO - remove
    ...urlConfig,
    login: {
      ...urlConfig.login,
      link: getLoginURL(req),
    },
    logout: {
      ...urlConfig.logout,
      link: getLogoutURL(req),
    },
    registration: {
      ...urlConfig.registration,
      link: getRegistrationURL(req),
    },
  };
};

module.exports = getUrlConfig;
