module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 11);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

var PAGES_PATH = './app/nordic-pages';
var PAGE_COMPONENTS_PATH = '**/ui-components/**';
var PAGE_TESTS_DIRECTORY_PATH = '**/__test?(s)__/**';
var PAGE_POLYFILLS_FILE = 'polyfills.js';
var FILES_IGNORED_IN_DISCOVERY = [PAGE_COMPONENTS_PATH, PAGE_TESTS_DIRECTORY_PATH, PAGE_POLYFILLS_FILE];
var hooksFilesIdentifier = {
  VIEW_SPECIFIC: 'hooks.server',
  BASE: '_hooks.server'
};
var discoveryFileExtensions = {
  SCRIPT: ['tsx', 'ts', 'jsx', 'js'],
  STYLE: ['scss', 'css']
};
var environments = {
  DEV: 'development',
  PROD: 'production',
  TEST: 'test'
};
var possibleDeviceTypes = ['desktop', 'mobile', 'tablet', 'webview'];
var discoveryDeviceTypes = [].concat(possibleDeviceTypes, ['base']);
var possibleAdaptiveOptions = {
  both: 'both',
  scripts: 'scripts',
  styles: 'styles'
};
var warnings = {
  MELIDATA: 'You are trying to use melidata but you are not specifying a path. ' + 'This is required for melidata to work. Melidata track will not be ' + 'rendered to the page',
  ANALYTICS: 'You are trying to use analytics but you are not specifying a ' + 'section. This is required for analytics to work. Analytics track will ' + 'not be rendered to the page',
  ROUTE_DISCOVERY: 'The following paths could not be processed correctly:'
};
module.exports = {
  PAGES_PATH: PAGES_PATH,
  PAGE_COMPONENTS_PATH: PAGE_COMPONENTS_PATH,
  PAGE_POLYFILLS_FILE: PAGE_POLYFILLS_FILE,
  PAGE_TESTS_DIRECTORY_PATH: PAGE_TESTS_DIRECTORY_PATH,
  FILES_IGNORED_IN_DISCOVERY: FILES_IGNORED_IN_DISCOVERY,
  hooksFilesIdentifier: hooksFilesIdentifier,
  discoveryDeviceTypes: discoveryDeviceTypes,
  discoveryFileExtensions: discoveryFileExtensions,
  environments: environments,
  possibleDeviceTypes: possibleDeviceTypes,
  possibleAdaptiveOptions: possibleAdaptiveOptions,
  warnings: warnings
};

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = require("react");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = require("frontend-analytics/meli-ga");

/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = require("frontend-melidata/melidata-track");

/***/ }),
/* 4 */
/***/ (function(module, exports) {

module.exports = require("frontend-script");

/***/ }),
/* 5 */
/***/ (function(module, exports) {

module.exports = require("frontend-style");

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = require("serialize-javascript");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

var logger = __webpack_require__(8);

var _require = __webpack_require__(0),
    possibleAdaptiveOptions = _require.possibleAdaptiveOptions;

var log = logger('frontend-page');

var isAdaptiveEnabled = function isAdaptiveEnabled(adaptive, adaptiveFor) {
  return possibleAdaptiveOptions.both === adaptive || possibleAdaptiveOptions[adaptiveFor] === adaptive;
};

module.exports = {
  isAdaptiveEnabled: isAdaptiveEnabled,
  log: log
};

/***/ }),
/* 8 */
/***/ (function(module, exports) {

module.exports = require("frontend-logger");

/***/ }),
/* 9 */,
/* 10 */,
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(12);


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

var REACT_ELEMENT_TYPE;

function _jsx(type, props, key, children) { REACT_ELEMENT_TYPE || (REACT_ELEMENT_TYPE = "function" == typeof Symbol && Symbol["for"] && Symbol["for"]("react.element") || 60103); var defaultProps = type && type.defaultProps, childrenLength = arguments.length - 3; if (props || 0 === childrenLength || (props = { children: void 0 }), 1 === childrenLength) props.children = children;else if (childrenLength > 1) { for (var childArray = new Array(childrenLength), i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } if (props && defaultProps) for (var propName in defaultProps) { void 0 === props[propName] && (props[propName] = defaultProps[propName]); } else props || (props = defaultProps || {}); return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: void 0 === key ? null : "" + key, ref: null, props: props, _owner: null }; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

/* eslint-disable react/jsx-closing-tag-location */
var React = __webpack_require__(1);

var Head = __webpack_require__(13);

var MeliGA = __webpack_require__(2);

var MelidataTrack = __webpack_require__(3);

var Script = __webpack_require__(4);

var Style = __webpack_require__(5);

var serialize = __webpack_require__(6);

var PropTypes = __webpack_require__(14);

var _require = __webpack_require__(15),
    ImageProvider = _require.ImageProvider;

var _require2 = __webpack_require__(16),
    I18nProvider = _require2.I18nProvider;

var _require3 = __webpack_require__(0),
    possibleDeviceTypes = _require3.possibleDeviceTypes,
    warnings = _require3.warnings,
    environments = _require3.environments;

var _require4 = __webpack_require__(7),
    log = _require4.log;

var defaultPageSettings = {
  analytics: null,
  hydrate: true,
  deviceType: null,
  imagesPrefix: '',
  i18n: null,
  melidata: null,
  className: '',
  script: '',
  style: '',
  id: '',
  isLegacyBrowser: false,
  appName: '',
  title: ''
};
/**
 * Validates that a specific object is valid to be used as analytics props.
 * @param {object} analytics - Object with analytics props
 * @return {boolean} Returns true if the object is valid
 */

function isAnalyticsValid(analytics) {
  var isValid = analytics && _typeof(analytics) === 'object' && Object.prototype.hasOwnProperty.call(analytics, 'section');

  if (analytics && !Object.prototype.hasOwnProperty.call(analytics, 'section')) {
    log.warn(warnings.ANALYTICS);
  }

  return isValid;
}
/**
 * Validates that a specific object is valid to be used as melidata props.
 * @param {object} melidata - Object with analytics props
 * @return {boolean} Returns true if the object is valid
 */


function isMelidataValid(melidata) {
  var isValid = melidata && _typeof(melidata) === 'object' && Object.prototype.hasOwnProperty.call(melidata, 'path');

  if (melidata && !Object.prototype.hasOwnProperty.call(melidata, 'path')) {
    log.warn(warnings.MELIDATA);
  }

  return isValid;
}
/**
 * Validates that the conditions are met for the state to be rendered.
 * @param {object} pageState - Object with the page state
 * @param {boolean} hydrate - Flag indicating that the page to be rendered will be hydrated
 * @return {boolean} Returns true if the object is valid
 */


function canRenderState(pageState, hydrate) {
  return pageState !== null && hydrate;
}

function getBaseChild(props) {
  var pageState = props.pageState,
      Component = props.Component,
      pageSettings = props.pageSettings;

  var _defaultPageSettings$ = _objectSpread(_objectSpread({}, defaultPageSettings), pageSettings),
      hydrate = _defaultPageSettings$.hydrate,
      analytics = _defaultPageSettings$.analytics,
      melidata = _defaultPageSettings$.melidata,
      className = _defaultPageSettings$.className,
      script = _defaultPageSettings$.script,
      style = _defaultPageSettings$.style,
      id = _defaultPageSettings$.id,
      deviceType = _defaultPageSettings$.deviceType,
      isLegacyBrowser = _defaultPageSettings$.isLegacyBrowser,
      appName = _defaultPageSettings$.appName,
      title = _defaultPageSettings$.title;

  return /*#__PURE__*/_jsx("div", {
    className: className,
    id: id
  }, "page-".concat(id), title && typeof title === 'string' && /*#__PURE__*/_jsx(Head, {}, void 0, /*#__PURE__*/_jsx("title", {}, void 0, title)), /*#__PURE__*/React.createElement(Component, _extends({}, pageState, {
    key: "page-child-".concat(id)
  })), isAnalyticsValid(analytics) && /*#__PURE__*/React.createElement(MeliGA, _extends({}, analytics, {
    key: "page-meli-ga-".concat(id)
  })), isMelidataValid(melidata) && /*#__PURE__*/React.createElement(MelidataTrack, _extends({}, melidata, {
    key: "page-melidata-track-".concat(id)
  })), style && typeof style === 'string' && /*#__PURE__*/_jsx(Style, {
    href: style,
    critical: deviceType === 'mobile'
  }, "page-style-tag-".concat(id)), canRenderState(pageState, hydrate) && /*#__PURE__*/_jsx(Script, {}, "page-preloaded-state-".concat(id), "\n    window.__PRELOADED_STATE__ = ".concat(serialize({
    pageState: pageState,
    pageSettings: pageSettings
  }, {
    isJSON: true
  }), ";\n  ")), hydrate && /*#__PURE__*/_jsx("div", {}, "page-scripts-".concat(id), /*#__PURE__*/_jsx(Script, {
    src: "".concat(script, ".js")
  }, "page-script-tag-".concat(id)), /*#__PURE__*/_jsx(Script, {
    src: "vendor.nordic.page.js"
  }, "page-vendor-script-tag-".concat(id)), isLegacyBrowser && /*#__PURE__*/_jsx(Script, {
    src: "".concat(appName, "-polyfills.js"),
    priority: 1,
    preload: true
  }, "page-polyfills-script-".concat(id))));
}

function addI18nProviderIfApplies(componentToRender, props) {
  var i18n = props.pageSettings.i18n;

  if (i18n) {
    return /*#__PURE__*/_jsx(I18nProvider, {
      i18n: i18n
    }, void 0, componentToRender);
  }

  return componentToRender;
}

function addImageProviderIfApplies(componentToRender, props) {
  var imagesPrefix = props.pageSettings.imagesPrefix;

  if (imagesPrefix) {
    return /*#__PURE__*/_jsx(ImageProvider, {
      prefix: imagesPrefix
    }, void 0, componentToRender);
  }

  return componentToRender;
}

var NordicPage = function NordicPage(props) {
  var componentToRender = getBaseChild(props);
  componentToRender = addI18nProviderIfApplies(componentToRender, props);
  componentToRender = addImageProviderIfApplies(componentToRender, props);
  return componentToRender;
};

function getPropTypeValidator(type, error) {
  var validate = function validate(props, propName) {
    var logMessage; // eslint-disable-next-line valid-typeof

    if (props[propName] && _typeof(props[propName]) !== type) {
      logMessage = "Invalid prop type for ".concat(propName, " at setPageSettings. ") + "The expected value is a ".concat(type, ".");
    } else if (propName === 'deviceType' && !possibleDeviceTypes.find(function (deviceType) {
      return props[propName] === deviceType;
    })) {
      logMessage = "Invalid prop value for ".concat(propName, " at setPageSettings. ") + "The expected values are: ".concat(possibleDeviceTypes.toString(), ".");
    }

    if (logMessage) {
      if (error) {
        log.error(logMessage);
      } else {
        log.warn(logMessage);
      }
    }
  };

  return validate;
}

NordicPage.propTypes = {
  pageSettings: PropTypes.shape({
    analytics: getPropTypeValidator('object', true),
    hydrate: getPropTypeValidator('boolean'),
    deviceType: getPropTypeValidator('string'),
    i18n: getPropTypeValidator('object'),
    script: getPropTypeValidator('string'),
    style: getPropTypeValidator('string', true),
    melidata: getPropTypeValidator('object', true),
    className: getPropTypeValidator('string'),
    id: getPropTypeValidator('string'),
    imagesPrefix: getPropTypeValidator('string'),
    isLegacyBrowser: getPropTypeValidator('boolean'),
    appName: getPropTypeValidator('string'),
    title: getPropTypeValidator('string', true)
  }),
  pageState: PropTypes.object,
  Component: PropTypes.func.isRequired
};
NordicPage.defaultProps = {
  pageState: null,
  pageSettings: defaultPageSettings,
  Component: function Component() {
    return /*#__PURE__*/React.createElement(React.Fragment, null);
  }
};
module.exports = NordicPage;

if ("production" === environments.TEST) {
  exports = module.exports;
  exports.isAnalyticsValid = isAnalyticsValid;
  exports.isMelidataValid = isMelidataValid;
  exports.canRenderState = canRenderState;
}

/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = require("react-declarative-head");

/***/ }),
/* 14 */
/***/ (function(module, exports) {

module.exports = require("prop-types");

/***/ }),
/* 15 */
/***/ (function(module, exports) {

module.exports = require("frontend-image");

/***/ }),
/* 16 */
/***/ (function(module, exports) {

module.exports = require("frontend-i18n");

/***/ })
/******/ ]);