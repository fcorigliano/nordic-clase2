/**
 * Module dependencies
 */
const country = require('./country');

/**
 * Expose country data middleware
 * Adds current country data as a req.country object.
 */
module.exports = (req, res, next) => {
  const countryId = req.platform && req.platform.countryId;

  req.country = country(countryId);
  next();
};
