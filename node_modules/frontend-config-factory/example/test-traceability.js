/* eslint-disable-next-line import/no-unresolved */
const express = require('express');
const configs = require('./configs-creation');

const app = express();
const port = 8000;
const start = () => {
  app.get('/:key/:platformId?/:siteId?', (req, res) => {
    const { key, platformId = null, siteId = null } = req.params;
    const value = configs['pi-navigation-config'].getValue({ key, req: { platform: { id: platformId, siteId } } });
    res.send(`${key}: ${value}`);
  });
  app.listen(port, () => {
    console.log(`Example app listening on port ${port}`);
  });
};

start();
