const { fetchRemoteConfigFile } = require('./fetch-remote-config-file');

describe('fetch remote config file', () => {
  it('fetch remote data', () => {
    const restclientInstance = {
      get: jest.fn().mockResolvedValue({
        version: '1.0.0',
        configurations: {
          test: true,
        },
        platforms: {
          ML: {
            sites: {
              MLC: {
                test: true,
              },
            },
          },
        },
      }),
    };
    return fetchRemoteConfigFile({
      environment: 'production',
      update: {
        path: 'some-path',
        request: {},
      },
      restclientInstance,
    }).then(data => {
      expect(data.version).toBe('1.0.0');
    });
  });
});
