const { readdirSync } = require('fs');
const { join } = require('path');

const getData = () => {
  const entriesFolder = join(__dirname, 'entries');
  const fileNames = readdirSync(entriesFolder, { withFileTypes: true })
    .filter((entry) => !entry.isDirectory())
    .map((entry) => entry.name);

  return fileNames.map((fileName) => {
    const withoutExtension = fileName.split('.')[0];
    return {
      fileName,
      withoutExtension,
      platformId: withoutExtension === 'default' ? 'default' : withoutExtension.toUpperCase(),
    };
  });
};

module.exports = {
  getData,
};
