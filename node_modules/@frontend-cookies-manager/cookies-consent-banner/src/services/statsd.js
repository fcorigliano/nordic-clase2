const statsd = require('frontend-statsd/internal');
const env = require('frontend-env');
const { baseKey } = require('../constants/statsd');

const send = (key, extraTags = {}) => {
  if (env.FURY && env.PRODUCTION) {
    const tags = {
      applicationId: env.APPLICATION || null,
      scopeId: env.SCOPE || null,
      ...extraTags,
    };
    statsd.histogram(`${baseKey}.${key}`, 1, tags);
  }
};

module.exports = {
  send,
};
