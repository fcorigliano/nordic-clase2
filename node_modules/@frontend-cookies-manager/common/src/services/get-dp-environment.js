const { getEnvironment } = require('data-privacy-config');

const getDpEnvironment = ({
  req,
  headers,
  cookies,
}) => getEnvironment({
  ...req,

  // add headers to req
  headers: {
    ...headers,
    ...(req || {}).headers,
  },

  // add cookies to req
  cookies: {
    ...cookies,
    ...(req || {}).cookies,
  },
});

module.exports = {
  getDpEnvironment,
};
