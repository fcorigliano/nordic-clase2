const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const Header = require('.');

const baseProps = {
  siteId: 'MLA',
  isDesktop: true,
  logoAsideText: 'Proveedores',
  logo: {
    url: 'https://centrodeproveedores.mercadolibre.com',
    label: 'Mercado Libre Argentina - Donde comprar y vender de todo',
    searchFocus: undefined,
  },
  melilab: {
    labUrl: 'https://www.mercadolibre.com/gz/labs',
    isEnabled: false,
    melilab: null,
    isMobile: false,
  },
  isLoggedIn: true,
  user: {
    id: 447469951,
    nickname: 'TETE8074471',
    active: true,
    scopes: ['read', 'write'],
    operator: false,
    operatorId: null,
    rootId: 447469951,
    admin: false,
    owner: true,
    raw: {
      id: 447469951,
      nickname: 'TETE8074471',
      registration_date: '2019-06-27T10:37:33.000-04:00',
      gender: '',
      country_id: 'AR',
      identification: {},
      internal_tags: [''],
      address: {},
      phone: {},
      alternative_phone: {},
      user_type: 'normal',
      tags: ['value'],
      logo: null,
      points: 100,
      site_id: 'MLA',
      permalink: 'http://perfil.mercadolibre.com.ar/TETE8074471',
      shipping_modes: ['value'],
      seller_experience: 'ADVANCED',
      bill_data: {},
      seller_reputation: {},
      buyer_reputation: {},
      status: {},
      secure_email: 'ttest.83jfqv@mail.mercadolibre.com',
      company: {},
      credit: {},
      context: {},
    },
  },
  headerLinks:
    [{
      name: 'Ayuda',
      link: 'https://www.mercadolibre.com.ar/ayuda/16100',
      id: 'firstPartyHelpMain',
    }],
  loggedOutLinks:
    [{
      name: 'IngresÃ¡',
      link:
        'https://www.mercadolibre.com/jms/mla/lgz/login?go=https%3A%2F%2Fdev.mercadolibre.com.ar%3A8443%2F%3FnavigationId%3DFirst-party',
    }],
  loggedInLinks:
    [{
      name: 'Salir',
      link: 'https://www.mercadolibre.com/jms/mla/lgz/logout',
      id: 'logout',
    }],
  myAccountText: 'Mi cuenta',
  type: 'full',
};

describe('First Party Navigation', () => {
  describe('Header', () => {
    it('matches the default snapshot', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <Header
          {...baseProps}
        />
      );

      const renderedComponent = renderer.render(component);
      expect(renderedComponent).toMatchSnapshot();
    });
  });
});
