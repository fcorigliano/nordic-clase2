# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## 2.6.1

### 2.6.1 - Fixed

- [#36](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/36) Add defaultConfig fallback when retrieving empty config

## 2.6.0

### 2.6.0 - Added

- [#34](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/34) Return JSON for IFPE AJAX, manage status 403 to restrictions FE with path

## 2.5.2

### 2.5.2 - Fixed

- [#33](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/33) Update link to frontend-regulations documentation

## 2.5.1

### 2.5.1 - Added

- [#29](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/29) Upgrade config-service to 1.1.2, add `reauth_token`,`is_webview` params and update `reauthenticationURL` to redirect to a deeplink

## 2.4.1

### 2.4.1 - Changed

- [#31](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/31) Change param `on_error` in default config to ignore reauth errors for operations without configuration  

## 2.4.0

### 2.4.0 - Added

- [#28](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/28) Start using [Dynamic Configuration Service](https://github.com/mercadolibre/fury_auth-config-service-lib)

## 2.3.0

### 2.3.0 - Added

- [#27](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/27) Support any new regulations and delegate `regulatedOnly` flag logic to API when some regulation is present

### 2.3.0 - Changed

- [#27](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/27) Update ESLint configuration

## 2.2.0

### 2.2.0 - Added

- [#25](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/25) Pass new parameters to Reauth API:
  - `site_id`
  - `platform_id`
  - `nsa_rotok` cookie
  - User's IP
  - Client UA
  - Flag indicating if called from middleware or service

## 2.1.2

### 2.1.2 - Internal

- [#23](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/23) No changes. Re-published since registry went bananas with version 2.1.1

## 2.1.1

### 2.1.1 - Fix

- [#22](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/22) Change `<br>` to `<br />` to fix Nordic docs builder

### 2.1.1 - Internal

- [#21](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/21) Use `createAxiosError` from `@auth-dev/request-utils` dep.

## 2.1.0

### 2.1.0 - Added

- [#19](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/19) Expose plugin version
- [#19](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/19) Possibility of using reauth-api test scope through `reauth_dev` cookie

### 2.1.0 - Changed

- [#19](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/19) Send custom User Agent with plugin version when making requests
- [#19](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/19) Send `root_user_id` and `operator_id` in reauth request body

## 2.0.0

### 2.0.0 - Added

- [#14](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/14) Add new `regulatedOnly` param
- [#17](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/17) Add NPM v7 support

### 2.0.0 - Changed

- [#17](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/17) Update Nordic deps to latest major versions
- [#15](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/15) Modify AJAX response body
- [#14](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/14) Calling middleware without `operationId` is no longer allowed
- [#12](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/12) Bump minimum Node version to v14 and delete peerDependencies

## 1.3.3

### 1.3.3 - Fixed

- [#16](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/16) Add `test_scope` tag to DataDog metrics

## 1.3.2

### 1.3.2 - Fixed

- [#11](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/11) Set specific domain for reauthentication cookie

## 1.3.1

### 1.3.1 - Fixed

- [#10](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/10) Log to DataDog error behaviour

## 1.3.0

### 1.3.0 - Added

- [#07](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/7) Log to DataDog response times when calling reauth and transaction APIs

## 1.2.1

### 1.2.1 - Fixed

- [#09](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/9) Delegate reauth validation to Reauth API

## 1.2.0

### 1.2.0 - Fixed

- [#08](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/8) Fix reauth validation vuln

### 1.2.0 - Added

- [#06](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/6) Add possibility to redirect to deeplinks when using `redirectUrl` param

## 1.1.0

### 1.1.0 - Added

- [#05](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/5) Add and expose Reauth Service with `checkReauthService` function

## 1.0.1

### 1.0.1 - Changed

- [#03](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/3) Add reauth params to README

## 1.0.0

### 1.0.0 - Added

- [#02](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/2) Whole project migration
- [#01](https://github.com/mercadolibre/fury_frontend-reauthentication/pull/1) Project setup
