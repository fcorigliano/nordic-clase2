const {
  get,
  getValue,
  addUpdateHandler,
} = require('../index');

/* eslint-disable no-console */

const getConfigurations = () => {
  console.log('get ML cookieDisclaimer', get('cookieDisclaimer', 'ML'));
  console.log('get ML cookiesConsentBanner', get('cookiesConsentBanner', 'ML'));
  console.log('get ML httpCookies', get('httpCookies', 'ML'));

  console.log('get ML MLA cookieDisclaimer', get('cookieDisclaimer', 'ML', 'MLA'));
  console.log('get ML MLA cookiesConsentBanner', get('cookiesConsentBanner', 'ML', 'MLA'));
  console.log('get ML MLA httpCookies', get('httpCookies', 'ML', 'MLA'));

  console.log('getValue ML MLA cookieDisclaimer', getValue({
    key: 'cookieDisclaimer',
    platform: {
      id: 'ML',
      siteId: 'MLA',
    },
  }));
  console.log('getValue ML MLA cookiesConsentBanner', getValue({
    key: 'cookiesConsentBanner',
    platform: {
      id: 'ML',
      siteId: 'MLA',
    },
  }));
  console.log('getValue ML MLA httpCookies', getValue({
    key: 'httpCookies',
    platform: {
      id: 'ML',
      siteId: 'MLA',
    },
  }));
};

getConfigurations();

addUpdateHandler(() => {
  console.log('Configuration updated');
  getConfigurations();
});
