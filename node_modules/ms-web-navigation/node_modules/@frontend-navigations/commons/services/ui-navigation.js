const platformNames = require('../constants/platform-names');
const { CDNS } = require('../constants/cdns');
const { isExampleApp } = require('./example-app');

const getHref = (cdn, fileName, uiNavigationVersion, platformName, appName) => {
  const appNameWithDefault = appName || 'frontend-navigations';
  const cdnBase = isExampleApp(appNameWithDefault)
    ? `http://localhost:8081`
    : (cdn || {}).link || CDNS.default.link

  return `${cdnBase}/frontend-assets/${appNameWithDefault}/ui-navigation/${uiNavigationVersion}/${platformName}/${fileName}`;
};

const getPlatformName = platformId => platformNames[platformId]; // eslint-disable-line security/detect-object-injection

module.exports = {
  getPlatformName,
  getHref,
};
