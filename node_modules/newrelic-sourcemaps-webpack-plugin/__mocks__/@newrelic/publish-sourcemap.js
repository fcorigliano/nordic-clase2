const publishSourcemap = jest.createMockFromModule('@newrelic/publish-sourcemap');

let sourcemapsResponse = Object.create(null);
let sourcemapsError = null;

function __mockSourcemaps(err, res) {
  if (err) {
    sourcemapsError = err;
  } else {
    sourcemapsResponse = res;
  }
}

function listSourcemaps(_, cb) {
  cb(sourcemapsError, sourcemapsResponse);
}

publishSourcemap.__mockSourcemaps = __mockSourcemaps;
publishSourcemap.listSourcemaps = listSourcemaps;

module.exports = publishSourcemap;
