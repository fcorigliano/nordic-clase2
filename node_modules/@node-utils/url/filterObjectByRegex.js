/**
 * Filter object properties based on a regular expression
 *
 * @param {regexp} regular - The regular expression base
 * @param {Object} objectToFilter - The object properties to be filter
 * @returns {Object} - The filtered object
 */
const filterObjectKeysByRegex = (regular, objectToFilter) => {
  if (!(regular instanceof RegExp)) return objectToFilter;
  if (!objectToFilter || objectToFilter.length < 1) return objectToFilter;
  return Object.keys(objectToFilter).reduce((result, key) => {
    if (regular.test(key)) return { ...result, [key]: objectToFilter[key] };
    return result;
  }, {});
};

module.exports = filterObjectKeysByRegex;
