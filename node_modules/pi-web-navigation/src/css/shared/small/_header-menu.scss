@use 'sass:math';

/* Hamburger
---------------------------------------------------------------*/

[for='nav-header-menu-switch'] {
  position: absolute;
  top: 0;
  right: 0;
  height: $small-header-height;
  width: $header-menu-switch-width;
  cursor: pointer;
}


// Default state
#nav-header-menu-switch {
  display: none;

  // Opened state
  &:checked + .nav-header-menu-wrapper {
    .hamburger-top-bread {
      transform: translate(0, $header-menu-icon-height * 2) rotate(40deg);
    }

    .hamburger-patty {
      transform: scale(0, 0);
    }

    .hamburger-bottom-bread {
      transform: translate(0, $header-menu-icon-height * -2) rotate(-40deg);
    }

    // Content
    #nav-header-menu {
      display: block;
    }
  }
}

%hamburger {
  position: absolute;
  display: block;
  width: $header-menu-icon-width;
  height: $header-menu-icon-height;
  background-color: $header-menu-icon-color;
  top: 50%;
  border-radius: $header-menu-icon-radius;
  transition: all 100ms ease-out;
  left: math.div($header-menu-switch-width - $header-menu-icon-width, 2);
}

.hamburger-top-bread {
  @extend %hamburger;
  margin-top: ($header-menu-icon-height * -2) - math.div($header-menu-icon-height, 2);
}

.hamburger-patty {
  @extend %hamburger;
  margin-top: - math.div($header-menu-icon-height, 2);
}

.hamburger-bottom-bread {
  @extend %hamburger;
  margin-top: ($header-menu-icon-height * 2) - math.div($header-menu-icon-height, 2);
}


/* Header Menu
---------------------------------------------------------------*/

%cone {
  border-style: solid;
  border-color: transparent;
  position: absolute;
  bottom: 100%;
  transform: translateY(1px);
  content: '';
}

#nav-header-menu {
  background-color: $header-menu-bg-color;
  display: none;
  position: relative;

  a {
    display: block;
    height: $small-header-height;
    padding: 0 $bounds-hpadding;
    font-size: $header-menu-text-size;
    text-decoration: none;
    line-height: $small-header-height;
    color: $small-header-menu-text-color;
    border-top: 1px solid $header-menu-border-color;
    position: relative;

    [class^='nav-icon-']:before,
    [class*=' nav-icon-']:before {
      display: none;
    }

    &:first-childÂ  {
      border-top-color: $header-border-color;
    }

    &:after {
      position: absolute;
      top: 0;
      right: 20px;
      display: block;
      font-family: 'navigation';
      color: lighten($small-header-menu-text-color, 5%);

      @include nav-icon-chevron-right;
    }
  }

  /**
   * Cone
   */
  &:before {
    @if $header-menu-cone-render {
      @extend %cone;
      border-bottom-color: $header-border-color;
      border-width: math.div($header-menu-cone-size, 2);
      right: math.div($header-menu-switch-width - $header-menu-cone-size, 2);
      pointer-events: none;
    }
  }

  &:after {
    @if $header-menu-cone-render {
      @extend %cone;
      border-width: math.div($header-menu-cone-size, 2) - 1;
      border-bottom-color: $header-menu-bg-color;
      right: math.div($header-menu-switch-width - $header-menu-cone-size, 2) + 1;
      pointer-events: none;
    }
  }
}
