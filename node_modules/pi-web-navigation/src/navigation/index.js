const React = require('react');
const PropTypes = require('prop-types');
const Favicons = require('@frontend-navigations/commons/lib/favicons-component');
const { HIDDEN } = require('../constants/navigation-types');
const Header = require('./header');
const headerProps = require('./header/props');
const Footer = require('./footer');
const footerProps = require('./footer/props');
const Css = require('./css');
const cssProps = require('./css/props');
const faviconsProps = require('./favicons/props');

const navMenuSwitchId = 'nav-header-menu-switch';

const Navigation = ({ children, ...props }) => {
  if (props.type === HIDDEN) {
    return [children];
  }

  return [
    <Css {...cssProps(props)} />,
    <Favicons {...faviconsProps(props)} />,
    <input type="checkbox" id={navMenuSwitchId} />,
    <Header {...headerProps(props)} navMenuSwitchId={navMenuSwitchId} />,
    children,
    <Footer {...footerProps(props)} />,
  ];
};

Navigation.propTypes = {
  children: PropTypes.oneOfType([
    PropTypes.arrayOf(PropTypes.node),
    PropTypes.node,
  ]).isRequired,
};

module.exports = Navigation;
