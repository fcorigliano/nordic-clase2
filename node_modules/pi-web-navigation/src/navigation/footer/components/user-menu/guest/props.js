const { getValue } = require('pi-navigation-config');
const { mapLinksToUrls } = require('../../../../utils/links');

const guestUserMenuProps = (props) => {
  const {
    navigationUrls,
    actualLocation,
    platform,
    req,
  } = props;

  const guestMenuFooterLinks = getValue({
    key: 'guestMobileFooterLinks',
    platform,
    req,
  }) || [];

  const guestMenuFooterSecondaryLinks = getValue({
    key: 'guestMobileFooterSecondaryLinks',
    platform,
    req,
  }) || [];

  const links = mapLinksToUrls({
    links: guestMenuFooterLinks,
    urls: navigationUrls,
    currentUrl: actualLocation,
    originalProps: props,
  });

  const secondaryLinks = mapLinksToUrls({
    links: guestMenuFooterSecondaryLinks,
    urls: navigationUrls,
    currentUrl: actualLocation,
    originalProps: props,
  });

  return {
    links,
    secondaryLinks,
  };
};

module.exports = guestUserMenuProps;
