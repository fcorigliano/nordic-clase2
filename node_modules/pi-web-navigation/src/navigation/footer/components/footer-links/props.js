const { getValue } = require('pi-navigation-config');
const { mapLinksToUrls } = require('../../../utils/links');

const footerLinksProps = (props, linkTagsProps) => {
  const {
    navigationUrls,
    actualLocation,
    req,
    platform,
  } = props;
  const footerLinks = getValue({
    key: 'mobileFooterLinks',
    platform,
    req,
  });

  const links = mapLinksToUrls({
    links: footerLinks,
    urls: navigationUrls,
    currentUrl: actualLocation,
    originalProps: props,
  });

  return {
    links,
    ...linkTagsProps,
  };
};

module.exports = footerLinksProps;
