/* eslint-disable security/detect-object-injection */
const { getValue } = require('pi-navigation-config');
const mapSectionsLinksToUrls = require('../../../../../utils/map-sections-links-to-urls');

const userLinksSectionsProps = (props, type = 'guest') => {
  const { req, platform, navigationUrls, actualLocation } = props;
  const mobileHeaderMenu = getValue({ key: 'mobileHeaderMenuLinks', req, platform });

  return {
    sectionsLinks: mapSectionsLinksToUrls({
      sectionsLinks: mobileHeaderMenu[type],
      urls: navigationUrls,
      currentUrl: actualLocation,
      originalProps: props,
      enhancements: {},
      hash: 'menu-user',
    }),
  };
};

module.exports = userLinksSectionsProps;

