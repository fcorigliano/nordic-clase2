const { isPlus, isLite, isClean } = require('@frontend-navigations/commons/layout-type-detection');
const avatarProps = require('../avatar/props');
const fallbackMenuProps = require('../fallback-menu/props');
const cropUsername = require('../../../../../../utils/crop-username');

const welcomeProps = (props) => {
  const { user, navigationPIIData, type } = props;

  const nickname = cropUsername(navigationPIIData.preferredName || user.nickname);

  return {
    avatar: avatarProps(props),
    fallbackMenu: fallbackMenuProps(props),
    type,
    show: !isClean(type),
    showAvatar: isPlus(type) || isLite(type),
    nickname,
  };
};

module.exports = welcomeProps;
