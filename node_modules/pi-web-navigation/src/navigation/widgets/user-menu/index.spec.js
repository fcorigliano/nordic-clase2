const React = require('react');
const ShallowRenderer = require('react-test-renderer/shallow');
const UserMenu = require('.');

const baseProps = {
  baseUrl: 'https://ml.static.com',
  version: '1.0.0',
  domain: 'www.mercadolibre.com.ar',
  myAccount: {
    link: 'https://www.portalinmobiliario.com/my-account',
    name: 'Mi cuenta',
  },
  logout: {
    link: 'https://www.mercadolibre.com/jms/mla/lgz/logout',
    name: 'Salir',
  },
  myQuotations: {
    link: 'https://www.mercadolibre.com/jms/mla/lgz/logout',
    name: 'Quotations',
  },
  history: {
    link: 'https://www.mercadolibre.com/jms/mla/lgz/logout',
    name: 'History',
  },
};

describe('Portal Inmobiliario Navigation', () => {
  describe('UserMenu Widget', () => {
    it('matches the default snapshot for UserMenu widget', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <UserMenu show {...baseProps} />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for UserMenu widget, but defaults to version', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <UserMenu show {...baseProps} version={null} />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });

    it('matches the default snapshot for UserMenu widget, when widget is not visible', () => {
      const renderer = new ShallowRenderer();
      const component = (
        <UserMenu show={false} {...baseProps} />
      );
      expect(renderer.render(component)).toMatchSnapshot();
    });
  });
});

