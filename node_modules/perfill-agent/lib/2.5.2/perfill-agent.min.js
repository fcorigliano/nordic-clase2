var perfill=function(){"use strict";const e=()=>"undefined"!=typeof window,t=()=>"fetch"in window,n=()=>"navigator"in window;var r={supportsEnvironment:e,supportsNavigatorApi:n,supportsPerformanceApi:()=>"performance"in window,supportsBeaconOrFetch:()=>n()&&"sendBeacon"in window.navigator||t(),supportsFetchApi:t,supportsMatchMediaApi:()=>e()&&void 0!==window.matchMedia,supportsPreloadState:()=>e()&&"__PRELOADED_STATE__"in window,supportsWeakSet:()=>"WeakSet"in window};const o={},a={};var i={subscribe:(e,t)=>{a[e]=a[e]||[],a[e].push(t),(o[e]||[]).map((e=>t(e))),delete o[e]},queue:(e,t)=>{const n=a[e]||[];n.forEach((e=>e(t))),n.length||(o[e]=o[e]||[],o[e].push(t))}},c={CLIENT_COOKIES:"client-cookies",WEB_VITALS:"web-vitals",PAGE_RENDER:"page-render",A11Y:"a11y",AVAILABILITY:"availability",CDN_HEALTH:"cdn-health",TRAFFIC_HEALTH:"traffic-health"},s={endpoint:"https://events.mercadolibre.com/v2/perf-metric",deviceInfoMetrics:["ram-size","cpu-cores"],connectionInfoMetrics:["network-type","network-speed","user-agent","save-data","rtt"],clientInfo:["name","version"],tags:["platform","site","application","device","webview","scope"],browserInfoMetrics:["d2id","url","dark-mode"]},d=s,u=s;var l={arrayOperator:e=>e.reduce(((e,t)=>e.concat(t)),[]),objectOperator:e=>Object.keys(e).reduce(((t,n)=>{const r=e[n],o="object"!=typeof r||Array.isArray(r)||null===r?{[n]:r}:r;return Object.assign(t,o)}),{})};const{objectOperator:p}=l;var E=p([s,{thresholdEntries:{img:25e4,script:17e4,style:5e4},fileSupport:{img:["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"],script:["js"],style:["css"]}}]),m=s;const{objectOperator:f}=l;var T=f([s,{endpoint:"https://events.mercadolibre.com/dom"}]);var v=(e={},t=[])=>t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}),w={AVAILABILITY_FAILURE:"failure",AVAILABILITY_TRANSFER_SIZE:"transfersize",WINDOW_DOM:"window-dom",D2ID:"d2id",NETWORK_TYPE:"network-type",NETWORK_SPEED:"network-speed",USER_AGENT:"user-agent",RAM_SIZE:"ram-size",WINDOW_WIDTH:"window-width",WINDOW_HEIGHT:"window-height",LCP:"lcp",CLS:"cls",FCP:"fcp",FID:"fid",TBT:"tbt",TBT_FINAL:"tbtFinal",LCP_FINAL:"lcpFinal",CLS_FINAL:"clsFinal",TTFB:"time-to-first-byte",DNS_LOOKUP_TIME:"dns-lookup-time",DOWNLOAD_TIME:"download-time",FETCH_TIME:"fetch-time",HEADER_SIZE:"header-size",TOTAL_TIME:"total-time",WORKER_TIME:"worker-time",HYDRATE_COMPLETE:"hydrate-complete",HYDRATE_DURATION:"hydrate-duration",REDIRECT_COUNT:"redirect-count",DOM_COMPLETE:"dom-complete",DOM_INTERACTIVE:"dom-interactive",DOM_CONTENT_LOADED_END:"dom-content-loaded-end",DOM_CONTENT_LOADED_START:"dom-content-loaded-start",DOM_CONTENT_LOADED:"dom-content-loaded",ONLOAD:"onload",ONLOAD_END:"onload-end",ONLOAD_START:"onload-start",REQUEST_START:"request-start",RESPONSE_START:"response-start",RESPONSE_END:"response-end",RESPONSE_TIME:"response-time",NAVIGATION_TYPE:"navigation-type",INITIAL_CONTENT_SIZE:"initial-content-size",DARK_MODE:"dark-mode",REDUCED_MOTION:"reduced-motion",REDUCED_COLOR:"reduced-contrast",URL:"url",X_CDN:"cdn",DURATION_SUM:"duration-sum",RESOURCE_SIZE:"resources-size",RESOURCE_FAILURE:"resources-failure",RESOURCE_SUCCESS:"resources-success"};const{WEB_VITALS:I}=c,{FCP:A,LCP:h,FID:_,CLS:O,TBT:g,DNS_LOOKUP_TIME:D,DOWNLOAD_TIME:N,FETCH_TIME:y,HEADER_SIZE:L,TTFB:S,TOTAL_TIME:b,WORKER_TIME:R,REDIRECT_COUNT:C,DOM_COMPLETE:M,DOM_INTERACTIVE:k,DOM_CONTENT_LOADED_END:F,DOM_CONTENT_LOADED_START:P,DOM_CONTENT_LOADED:B,ONLOAD_END:W,ONLOAD_START:U,ONLOAD:H,REQUEST_START:j,RESPONSE_START:x,RESPONSE_END:Y,RESPONSE_TIME:V,NAVIGATION_TYPE:q,INITIAL_CONTENT_SIZE:z,REDUCED_MOTION:$,REDUCED_COLOR:G}=w,K=[A,h,_,O,g,D,N,y,L,S,b,R,C,M,k,F,P,B,W,U,H,j,x,Y,V,q,z,$,G],Z=[A,h,O];var X=(e,t)=>{const n=v(t,K);if(!Object.keys(n).length)throw new Error("Metrics not found");const r=Object.keys(n);if(!Z.every((e=>-1!==r.indexOf(e))))throw new Error("Metrics missing");return{name:I,data:n}};const{PAGE_RENDER:Q}=c,{HYDRATE_COMPLETE:J,HYDRATE_DURATION:ee}=w,te=[J,ee];var ne=(e,t)=>{const n=v(t,te);if(!Object.keys(n).length)throw new Error("Metrics not found");return{name:Q,data:n}};var re=(e,t)=>e.reduce(((e,t)=>e.replace(new RegExp(t.original,"g"),t.translated)),t);const{WEB_VITALS:oe,PAGE_RENDER:ae,A11Y:ie,AVAILABILITY:ce,CDN_HEALTH:se}=c,{objectOperator:de}=l,ue={[oe]:d,[ae]:u,[ie]:T,[ce]:E,[se]:m,commons:s};var le={prepareConfiguration:e=>{const{platform:t,site:n,device:r,application:o,initiatives:a,scope:i,webview:c}=e;if(!Array.isArray(a))return null;if(t&&n&&r&&o&&a){const e={platform:t,site:n,device:r,application:o,webview:c,initiatives:a.map((e=>de({i:e,sent:!1})))};return i&&(e.scope=i),e}return null},getConfiguration:(e,t="commons",n=null)=>e in ue[t]?ue[t][e]:n};const{objectOperator:pe}=l,{getConfiguration:Ee}=le,me="commons",fe=/^([a-zA-Z]+)-(iOS|Android|AndroidNoPS|SmartPOS)?(?:\/|%2F)((?:\d+\.){2}\d+)/,Te=[{original:"SmartPOS",translated:"Android"},{original:"AndroidNoPS",translated:"Android"}],ve=(e,t=me)=>({tags:v(e,Ee("tags",t,[]))}),we=(e,t)=>{const n=v(t,["device","webview"]),r=n.webview&&"mobile"===n.device||!1,o=e["user-agent"]||"",a=fe.exec(o),i=a?re(Te,a[2]).toLowerCase():null;if(n.webview&&!i)throw new Error("Unknown device native type");return`${r?"webview":"web"}/${r?i:n.device}`};var Ie={prepareTags:ve,prepareEventTags:(e,t,n=me)=>{const{tags:r}=ve(t,n);return{tags:pe({tags:r,device:we(e,t)})}},prepareDeviceInfo:(e,t=me)=>({"device-info":v(e,Ee("deviceInfoMetrics",t,[]))}),prepareClientInfo:()=>({"client-info":{name:"perfill-agent",version:"2.5.2"}}),prepareConnectionInfo:(e,t=me)=>({"connection-info":v(e,Ee("connectionInfoMetrics",t,[]))}),prepareBrowserInfo:(e,t=me)=>({"browser-info":v(e,Ee("browserInfoMetrics",t,[]))})};const{A11Y:Ae}=c,{WINDOW_DOM:he,WINDOW_WIDTH:_e,WINDOW_HEIGHT:Oe}=w,{deviceInfoMetrics:ge,connectionInfoMetrics:De,browserInfoMetrics:Ne}=T,{prepareEventTags:ye,prepareClientInfo:Le}=Ie,{arrayOperator:Se,objectOperator:be}=l,Re=[he,_e,Oe];var Ce=(e,t)=>{const{name:n,version:r}=Le()["client-info"],{tags:o}=ye(t,e,Ae),a=v(t,Se([ge,De,Ne,Re]));if(!Object.keys(a).length)throw new Error("Metrics not found");const i=be({metricsCollected:a,tags:o,client_name:n,client_version:r}),c=[];return Object.keys(i).forEach((e=>{if("window-dom"!==e)c.push([e.replace("-","_"),i[e]]);else{const e=new Blob([i["window-dom"]],{type:"text/html"});c.push(["file",e,"dom.html"])}})),{name:Ae,data:c}};const{AVAILABILITY:Me}=c,{AVAILABILITY_FAILURE:ke,AVAILABILITY_TRANSFER_SIZE:Fe}=w,Pe=[ke,Fe];var Be=(e,t)=>{const n=v(t,Pe);if(!Object.keys(n).length)throw new Error("Metrics not found");return{name:Me,data:{[ke]:n[ke],[Fe]:n[Fe]}}};const{objectOperator:We}=l,{CDN_HEALTH:Ue}=c,{DURATION_SUM:He,RESOURCE_SIZE:je,RESOURCE_FAILURE:xe,RESOURCE_SUCCESS:Ye,X_CDN:Ve,AVAILABILITY_FAILURE:qe}=w,ze=[Ve,je,He],$e=[Ve];var Ge=(e,t)=>{const n=v(t,ze);if(!Object.keys(n).length)throw new Error("Metrics not found");const r=Object.keys(n);if(!$e.every((e=>-1!==r.indexOf(e))))throw new Error("Metrics missing");const o=(t[qe]||[]).length,a=n[je]-o;return{name:Ue,data:We({collection:n,[xe]:o,[Ye]:a})}};const{WEB_VITALS:Ke,PAGE_RENDER:Ze,A11Y:Xe,AVAILABILITY:Qe,CDN_HEALTH:Je}=c,{objectOperator:et}=l,{prepareEventTags:tt,prepareDeviceInfo:nt,prepareConnectionInfo:rt,prepareClientInfo:ot,prepareBrowserInfo:at}=Ie,it={[Ke]:{builder:X},[Ze]:{builder:ne},[Xe]:{builder:Ce},[Qe]:{builder:Be},[Je]:{builder:Ge}},ct=(e,t,n)=>{const{builder:r}=(e=>{if(e.id in it)return it[e.id];throw new Error("Initiative not found")})(e);return r(t,n)};var st={preparePayload:(e,t,n)=>{const r=((e,t,n)=>{try{const r=ct(e,t,n),o=tt(n,t);return{"event-info":et({initiativePayload:r,tags:o})}}catch(e){return null}})(e,t,n);if(!r)return null;const o=ot(),a=nt(n),i=rt(n),c=at(n);return et({clientInfo:o,eventInfo:r,deviceInfo:a,connectionInfo:i,browserInfo:c})},prepareFormData:(e,t,n)=>{try{const{data:r}=ct(e,t,n),o=new FormData;return r.forEach((e=>{const[t,n,r]=e;r?o.append(t,n,r):o.append(t,n)})),o}catch(e){return null}}};const dt=(e,t,n=!0)=>{window.fetch(e,{method:"POST",body:t,keepalive:n}).then((e=>e.text())).catch((e=>e))};var ut={beaconWithFetchFallback:(e,t)=>{const n=JSON.stringify(t);window.navigator&&window.navigator.sendBeacon&&window.navigator.sendBeacon(e,n)||dt(e,n)},sendWithFetch:dt,getWithFetch:(e,t={})=>window.fetch(e,t)};const{WEB_VITALS:lt,PAGE_RENDER:pt,A11Y:Et,AVAILABILITY:mt,CDN_HEALTH:ft}=c,{endpoint:Tt}=d,{endpoint:vt}=u,{endpoint:wt}=E,{endpoint:It}=m,{endpoint:At}=T,{preparePayload:ht,prepareFormData:_t}=st,{beaconWithFetchFallback:Ot,sendWithFetch:gt}=ut,Dt={},Nt={[lt]:Tt,[pt]:vt,[Et]:At,[mt]:wt,[ft]:It};var yt={trackMetric:(e,t)=>{Dt[e]=t},appendMetric:(e,t)=>{(Dt[e]=Dt[e]||[]).push(t)},getMetricsCollected:()=>Dt,sendMetrics:(e,t,n)=>{const r=ht(e,t,n);return!!r&&(Ot(Nt[e.id],r),!0)},sendFormData:(e,t,n)=>{const r=_t(e,t,n);return!!r&&(gt(Nt[e.id],r,!1),!0)}};const{trackMetric:Lt}=yt,{supportsNavigatorApi:St}=r,{RAM_SIZE:bt}=w;var Rt=()=>{St()&&(window.navigator.deviceMemory&&Lt(bt,`${window.navigator.deviceMemory}`),window.navigator.hardwareConcurrency&&Lt("cpu-cores",`${window.navigator.hardwareConcurrency}`))};const{trackMetric:Ct}=yt,{supportsNavigatorApi:Mt}=r,{NETWORK_SPEED:kt,NETWORK_TYPE:Ft,USER_AGENT:Pt}=w;var Bt=()=>{if(!Mt())return;const{navigator:e}=window;e.connection&&(e.connection.effectiveType&&Ct(Ft,e.connection.effectiveType),e.connection.downlink&&Ct(kt,`${e.connection.downlink}`),"saveData"in e.connection&&Ct("save-data",e.connection.saveData),e.connection.rtt&&Ct("rtt",`${e.connection.rtt}`)),e.userAgent&&Ct(Pt,e.userAgent)};var Wt={toFixedNumber:(e,t=6)=>Number.isNaN(e)||!e||Number.isInteger(e)||"string"==typeof e?e:parseFloat(e.toFixed(t)),BIGQUERY_MAX_DECIMALS:6};const{trackMetric:Ut}=yt,{supportsPerformanceApi:Ht}=r,{toFixedNumber:jt}=Wt,{REDIRECT_COUNT:xt,DOM_COMPLETE:Yt,DOM_INTERACTIVE:Vt,DOM_CONTENT_LOADED_END:qt,DOM_CONTENT_LOADED_START:zt,DOM_CONTENT_LOADED:$t,ONLOAD_END:Gt,ONLOAD_START:Kt,ONLOAD:Zt,REQUEST_START:Xt,RESPONSE_START:Qt,RESPONSE_END:Jt,RESPONSE_TIME:en,NAVIGATION_TYPE:tn}=w;var nn=()=>{if(!Ht())return;const[e]=window.performance.getEntriesByType("navigation");if(e){const{domComplete:t,domContentLoadedEventEnd:n,domContentLoadedEventStart:r,domInteractive:o,loadEventEnd:a,loadEventStart:i,redirectCount:c,requestStart:s,responseStart:d,responseEnd:u,type:l}=e;c&&Ut(xt,c),t&&Ut(Yt,jt(t)),o&&Ut(Vt,jt(o)),n&&Ut(qt,jt(n)),r&&Ut(zt,jt(r)),r&&n&&Ut($t,jt(n-r)),a&&Ut(Gt,jt(a)),i&&Ut(Kt,jt(i)),i&&a&&Ut(Zt,jt(a-i)),s&&Ut(Xt,jt(s)),d&&Ut(Qt,jt(d)),u&&Ut(Jt,jt(u)),d&&u&&Ut(en,jt(u-d)),l&&Ut(tn,l)}},rn={t:!1,i:!1,o:3e4},on=window,an=on.console,cn=document,sn=on.navigator,dn=on.performance,un=function(){return sn.deviceMemory},ln=function(){return sn.hardwareConcurrency},pn=function(){return dn&&!!dn.getEntriesByType&&!!dn.now&&!!dn.mark},En="4g",mn=!1,fn=function(){return!!(ln()&&ln()<=4)||!!(un()&&un()<=4)},Tn=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return fn()||t}},vn={u:!1},wn=function(e){cn.hidden&&(e(),vn.u=cn.hidden)},In=function(e){return parseFloat(e.toFixed(4))},An=function(e){return"number"!=typeof e?null:In(e/Math.pow(1024,2))},hn=[2e3,4e3],_n=[2500,4e3],On=[.1,.25],gn={ttfb:[200,500],fp:hn,fcp:hn,lcp:_n,lcpFinal:_n,fid:[100,300],cls:On,clsFinal:On,tbt:[200,600],ntbt:[200,600]},Dn=function(e,t){return gn[e]?t<=gn[e][0]?"good":t<=gn[e][1]?"needsImprovement":"poor":null},Nn=function(e,t,n){var r;r=function(){vn.u&&e.indexOf("Final")<0||!rn.analyticsTracker||rn.analyticsTracker({metricName:e,data:t,eventProperties:n||{},navigatorInformation:sn?{deviceMemory:un()||0,hardwareConcurrency:ln()||0,serviceWorkerStatus:"serviceWorker"in sn?sn.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:fn(),isLowEndExperience:Tn(En,mn)}:{},vitalsScore:Dn(e,t)})},"requestIdleCallback"in on?on.requestIdleCallback(r,{timeout:3e3}):r()},yn=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=In(t[e]))})),Nn(e,t,n)},Ln=function(e,t,n){var r=In(e);r<=rn.o&&r>=0&&Nn(t,r,n)},Sn={},bn={value:0},Rn={value:0},Cn={value:0},Mn={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},kn={value:0},Fn={value:0},Pn=function(e){var t=e.pop();t&&!t.s&&t.value&&(bn.value+=t.value)},Bn={},Wn=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){an.warn("Perfume.js:",e)}return null},Un=function(e){Bn[e]&&Bn[e].disconnect(),delete Bn[e]},Hn=function(e){var t=e.pop();t&&Ln(t.processingStart-t.startTime,"fid",{performanceEntry:t}),Un(1),Ln(Cn.value,"lcp"),Bn[3]&&"function"==typeof Bn[3].takeRecords&&Bn[3].takeRecords(),Ln(bn.value,"cls"),setTimeout((function(){Ln(kn.value,"tbt"),yn("dataConsumption",Mn.value)}),1e4)},jn=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<Rn.value)){var t=e.duration-50;t>0&&(kn.value+=t,Fn.value+=t)}}))},xn=function(e){e.forEach((function(e){"first-paint"===e.name?Ln(e.startTime,"fp"):"first-contentful-paint"===e.name&&(Rn.value=e.startTime,Ln(Rn.value,"fcp"),Bn[4]=Wn("longtask",jn),Un(0))}))},Yn=function(e){var t=e.pop();t&&(Cn.value=t.renderTime||t.loadTime)},Vn=function(e){e.forEach((function(e){e.identifier&&Ln(e.startTime,e.identifier)}))},qn=function(e){e.forEach((function(e){if(rn.t&&yn("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;Mn.value[e.initiatorType]+=t,Mn.value.total+=t}}))},zn=function(){Bn[2]&&(Ln(Cn.value,"lcpFinal"),Un(2)),Bn[3]&&("function"==typeof Bn[3].takeRecords&&Bn[3].takeRecords(),Ln(bn.value,"clsFinal"),Un(3))},$n=function(e){var t="usageDetails"in e?e.usageDetails:{};yn("storageEstimate",{quota:An(e.quota),usage:An(e.usage),caches:An(t.caches),indexedDB:An(t.indexedDB),serviceWorker:An(t.serviceWorkerRegistrations)})},Gn=0,Kn=function(){function e(e){if(void 0===e&&(e={}),this.l="7.0.0",rn.analyticsTracker=e.analyticsTracker,rn.t=!!e.resourceTiming,rn.i=!!e.elementTiming,rn.o=e.maxMeasureTime||rn.o,pn()){"PerformanceObserver"in on&&(Bn[0]=Wn("paint",xn),Bn[1]=Wn("first-input",Hn),Bn[2]=Wn("largest-contentful-paint",Yn),rn.t&&Wn("resource",qn),Bn[3]=Wn("layout-shift",Pn),rn.i&&Wn("element",Vn)),void 0!==cn.hidden&&cn.addEventListener("visibilitychange",wn.bind(this,zn));var t=function(){if(!pn())return{};var e=dn.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();yn("navigationTiming",t),t.timeToFirstByte&&Ln(t.timeToFirstByte,"ttfb"),yn("networkInformation",function(){if("connection"in sn){var e=sn.connection;return"object"!=typeof e?{}:(En=e.effectiveType,mn=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),sn&&sn.storage&&"function"==typeof sn.storage.estimate&&sn.storage.estimate().then($n)}}return e.prototype.start=function(e){pn()&&!Sn[e]&&(Sn[e]=!0,dn.mark("mark_"+e+"_start"),vn.u=!1)},e.prototype.end=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n=!0),pn()&&Sn[e]){dn.mark("mark_"+e+"_end"),delete Sn[e];var r=function(e){dn.measure(e,"mark_"+e+"_start","mark_"+e+"_end");var t=dn.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t.duration:-1}(e);n&&yn(e,In(r),t)}},e.prototype.endPaint=function(e,t){var n=this;setTimeout((function(){n.end(e,t)}))},e.prototype.clear=function(e){delete Sn[e],dn.clearMarks&&(dn.clearMarks("mark_"+e+"_start"),dn.clearMarks("mark_"+e+"_end"))},e.prototype.markNTBT=function(){var e=this;this.start("ntbt"),Fn.value=0,clearTimeout(Gn),Gn=setTimeout((function(){e.end("ntbt",{},!1),Ln(Fn.value,"ntbt"),Fn.value=0}),2e3)},e}();const{trackMetric:Zn,sendMetrics:Xn,getMetricsCollected:Qn}=yt,{LCP_FINAL:Jn,CLS_FINAL:er,LCP:tr,CLS:nr,TBT:rr,WORKER_TIME:or,TOTAL_TIME:ar,TTFB:ir,HEADER_SIZE:cr,FETCH_TIME:sr,DOWNLOAD_TIME:dr,DNS_LOOKUP_TIME:ur,TBT_FINAL:lr}=w;const{trackMetric:pr}=yt,{supportsEnvironment:Er,supportsMatchMediaApi:mr}=r,{D2ID:fr,DARK_MODE:Tr,REDUCED_MOTION:vr,REDUCED_COLOR:wr,URL:Ir}=w,Ar=/(?:_d2id=)([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})/;var hr=()=>{const e=function(e){if(!e)return null;const t=e.match(Ar);return t?t[1]:t}("undefined"!=typeof document&&document.cookie);if(e&&pr(fr,`${e}`),Er()&&pr(Ir,`${window.location.origin}${window.location.pathname}`),mr()){pr(Tr,window.matchMedia("(prefers-color-scheme: dark)").matches);const e=!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches;pr(vr,e);const t=!0===window.matchMedia("(prefers-contrast: custom), (prefers-contrast: less), (prefers-contrast: more)").matches||!0===window.matchMedia("(forced-colors: active)").matches;pr(wr,t)}};const{trackMetric:_r}=yt,{supportsPreloadState:Or,supportsWeakSet:gr}=r,{INITIAL_CONTENT_SIZE:Dr}=w;var Nr=()=>{try{if(Or()&&gr()){const e=JSON.stringify(window.__PRELOADED_STATE__,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})());_r(Dr,e.length)}}catch(e){}};const{prepareConfiguration:yr}=le,{supportsPerformanceApi:Lr,supportsBeaconOrFetch:Sr}=r;var br={start:(e,t)=>{const n=yr(e);if(n)try{Lr()&&Sr()&&(((e,t)=>{let n=!1;new Kn({analyticsTracker:r=>{if(n)return;const{metricName:o,data:a}=r;o===Jn&&Zn(tr,a),o===er&&Zn(nr,a),o===lr&&Zn(rr,a),"navigationTiming"===o&&a&&"object"==typeof a&&(Zn(ur,a.dnsLookupTime),Zn(dr,a.downloadTime),Zn(sr,a.fetchTime),Zn(cr,a.headerSize),Zn(ir,a.timeToFirstByte),Zn(ar,a.totalTime),Zn(or,a.workerTime)),Zn(o,a),n=Xn(t,e,Qn())}})})(n,t),Rt(),Bt(),hr(),nn(),Nr())}catch(e){}}};var Rr={commands:{SET_COOKIE:"set-cookie"},endpoint:"https://events.mercadolibre.com/v2/client-cookies"};const{CLIENT_COOKIES:Cr}=c,{commands:Mr,endpoint:kr}=Rr,{subscribe:Fr}=i,{beaconWithFetchFallback:Pr}=ut,{objectOperator:Br}=l,{prepareClientInfo:Wr,prepareTags:Ur}=Ie;let Hr=[];const jr=e=>{if(1!==e.length||!e[0])throw new Error;return e[0]},xr={path:jr,domain:jr,expires:jr,samesite:jr,"max-age":e=>{const t=parseInt(jr(e),10);if(Number.isNaN(t))throw new Error;return t},secure:e=>{if(e.length)throw new Error;return!0}},Yr=(e,t)=>{e["unknown-metadata"]=`${e["unknown-metadata"]?`${e["unknown-metadata"]};`:""}${t}`},Vr=window.requestIdleCallback||(e=>setTimeout(e,200));let qr=!1;const zr={[Mr.SET_COOKIE]:(e,t)=>{const n=(e=>{if(!e)return null;const t=e.split(";").reduce(((e,t,n)=>{const r=t.trim();if(!r)return e;const o=r.split("=").map((e=>e.trim())),a=o[0];if(!n)return a&&2===o.length&&(e.name=a),e;const i=a.toLowerCase(),c=xr[i];if(c)try{e[i]=c(o.slice(1))}catch(n){Yr(e,t)}else Yr(e,t);return e}),{name:null,path:null,domain:null,"max-age":null,expires:null,samesite:null,secure:null,"unknown-metadata":null});return t.name?t:null})(e);n&&(Hr.push(n),(e=>{const t=()=>{if("hidden"===window.document.visibilityState){const n=Wr(),r=Ur(e);Pr(kr,Br({clientInfo:n,tags:r,cookies:Hr})),Hr=[],window.document.removeEventListener("visibilitychange",t),qr=!1}};qr||(window.document.addEventListener("visibilitychange",t),qr=!0)})(t))}};var $r=e=>{Fr(Cr,(t=>{t&&zr[t.type]&&Vr((()=>zr[t.type](t.data,e)))}))};const{supportsBeaconOrFetch:Gr}=r;var Kr={start:e=>{try{Gr()&&$r(e)}catch(e){}}};const{PAGE_RENDER:Zr}=c,{trackMetric:Xr,sendMetrics:Qr,getMetricsCollected:Jr}=yt,{subscribe:eo}=i,to=window.requestIdleCallback||(e=>setTimeout(e,200)),no="pageRenderEvent";let ro=!1;const oo=(e,t)=>{e.forEach((e=>{Xr(e.metric,e.value)})),(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(Qr({id:Zr},e,Jr()),window.document.removeEventListener(no,t),ro=!1)};ro||(window.document.addEventListener(no,t),ro=!0),window.document.addEventListener("visibilitychange",(()=>{const e=new window.Event(no);window.document.dispatchEvent(e)}))})(t)};var ao=e=>{eo(Zr,(t=>{t&&to((()=>oo(t,e)))}))};const{prepareConfiguration:io}=le,{supportsBeaconOrFetch:co}=r;var so={start:e=>{const t=io(e);if(t)try{co()&&(Rt(),Bt(),ao(t),hr())}catch(e){}}};const{arrayOperator:uo}=l,lo=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],po={STYLE:!0,IFRAME:!0,SCRIPT:!0,svg:!0,path:!0},Eo={"data-hj-suppress":!0,"data-hj-suppressed":!0,"data-hj-masked":!0,"data-pii-mask":!0,"nav-header-username":!0},mo={address:!0,address1:!0,address2:!0,addressline1:!0,addressline2:!0,cell:!0,cellphone:!0,dateofbirth:!0,dob:!0,email:!0,familyname:!0,firstname:!0,fullname:!0,lastname:!0,firstName:!0,fullName:!0,lastName:!0,phone:!0,postalcode:!0,postcode:!0,surname:!0,tel:!0,telephone:!0,username:!0,zip:!0,zipcode:!0,nationalinsurancenumber:!0,nin:!0,ppsn:!0,security:!0,securitynum:!0,socialsec:!0,socialsecuritynumber:!0,socsec:!0,ssn:!0,authpw:!0,contrasena:!0,contrasenya:!0,pass:!0,passord:!0,password:!0,passwort:!0,pw:!0,pwd:!0,pword:!0,pwrd:!0,sapwd:!0,senha:!0,userpw:!0,userpwd:!0,cc:!0,cccsc:!0,cccvc:!0,cccvv:!0,ccexp:!0,ccexpiry:!0,ccexpmonth:!0,ccexpyear:!0,ccname:!0,ccnum:!0,ccnumber:!0,cctype:!0,creditcard:!0,csc:!0,cvc:!0,cvv:!0,exp:!0,accountnum:!0,accountnumber:!0,bic:!0,iban:!0,ibanaccountnum:!0,ibanaccountnumber:!0,pin:!0,pinnum:!0,secq:!0,secret:!0,secretq:!0,secretquestion:!0,securityq:!0,securityquestion:!0,sortcode:!0,swift:!0,buyerEmail:!0,nickname:!0,buyerFullName:!0,buyerPhone:!0,buyerId:!0,sellerId:!0,first_name:!0,last_name:!0,secure_email:!0,issuerName:!0,expirationMonth:!0,expirationYear:!0,lastFourDigits:!0},fo={A:["href"],INPUT:["value","placeholder"],TEXTAREA:["value","placeholder"],OPTION:["label","value"],PROGRESS:["value"],OPTGROUP:["label"],IMG:["alt"],DIV:["title"],DEFAULT:["textContent"]},To=/[.*+?^${}()|[\]\\]/g,vo=e=>e.replace(To,"\\$&"),wo=e=>{const t=[];for(let n=0;n<e;n++)t.push(lo[Math.floor(Math.random()*lo.length)]);return t.join("")},Io=new RegExp("[\\s_-]+","g"),Ao=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,ho=/\d+/,_o=/[^@\s]+@[^@\s]+\.[^@\s]+/,Oo=/(?:\d{1,3}\.){3}\d{1,3}/,go=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,Do=(e,t="")=>(e=>uo([e.classList||[]]).some((e=>Eo[e])))(e)||(e=>[e.name,e.id].map((e=>e?e.replace(Io,"").toLowerCase():e)).some((e=>mo[e])))(e)||(e=>ho.test(e))(t)||(e=>Ao.test(e))(t)||(e=>e.indexOf("@")>-1&&_o.test(e))(t)||(e=>Oo.test(e)||go.test(e))(t),No=e=>{const t=[];return uo([e]).forEach((e=>{if(po[e.tagName])return;if((e.children||[]).length>0)return;const n=uo([fo.DEFAULT,fo[e.tagName]||[]]).reduce(((t,n)=>{const r=e[n],o=Do(e,r);return r&&o&&t.push(r),t}),[]);n.length&&t.push({el:e.outerHTML,attrs:n})})),t},yo=new RegExp(/[a-zA-Z0-9äÄëËïÏöÖüÜáéíóúáéíóúÁÉÍÓÚÂÊÎÔÛâêîôûàèìòùÀÈÌÒÙ.]/,"i"),Lo=e=>{const t=[{original:"<iframe.*?>.*<\\/iframe>",translated:""},{original:"<noscript.*?>.*<\\/noscript>",translated:""},{original:'"(addresses)":+\\s*[[][\\s\\S]*?[]],*',translated:""},{original:'"(phone|address|address|alternative_phone|identification)":+\\s*[{][\\s\\S]*?[}],*',translated:""},{original:"(user)+\\s*:\\s*[{]+[\\s\\S]*?[}]+?",translated:"$1: {}"},{original:"[a-z0-9.+-]+@+[a-z0-9.+-]+",translated:"removed@domain.now"},{original:`"(${Object.keys(mo).join("|")})"+\\s*:\\s*"+[a-z0-9.+-\\s]+"+?`,translated:'"$1":"abc123"'},{original:`"(${Object.keys(mo).join("|")})"+\\s*:\\s*[^"][0-9]+`,translated:'"$1":123987546'}];return e.reduce(((e,t)=>{const n=t.el;return t.attrs.forEach((e=>{t.el=t.el.replace(e,(e=>e.startsWith("http")?"#":e.split(" ").map((e=>yo.test(e)?wo(e.length):e)).join(" "))(e))})),e.push({original:vo(n),translated:vo(t.el)}),e}),t)};var So={anonymizeDOM:e=>{const t=No(((e="*")=>document.body.querySelectorAll(e))()),n=Lo(t);return re(n,e)},generateRandomText:wo,shouldSuppressData:Do,extractMessages:No,generateTranslations:Lo};const{A11Y:bo}=c,{WINDOW_DOM:Ro}=w,{trackMetric:Co,sendFormData:Mo,getMetricsCollected:ko}=yt,{anonymizeDOM:Fo}=So,Po=window.requestIdleCallback||(e=>setTimeout(e,200));let Bo=!1;const Wo=e=>{Bo||(Bo=Mo({id:bo},e,ko()))},Uo=e=>{try{(()=>{const{document:e}=window;if(!e||!e.documentElement||!e.documentElement.outerHTML)throw new Error("DOM not found");const t=Fo(e.documentElement.outerHTML);Co(Ro,t)})(),Wo(e)}catch(e){}};var Ho=e=>{Po((()=>Uo(e)))};const{trackMetric:jo}=yt,{WINDOW_HEIGHT:xo,WINDOW_WIDTH:Yo}=w;var Vo=()=>{const{innerWidth:e,innerHeight:t}=window;e&&jo(Yo,`${e}`),t&&jo(xo,`${t}`)};const{prepareConfiguration:qo}=le,{supportsFetchApi:zo}=r;var $o={start:e=>{const t=qo(e);if(t)try{zo()&&(Rt(),Bt(),Vo(),Ho(t),hr())}catch(e){}}};const{AVAILABILITY:Go}=c,{AVAILABILITY_FAILURE:Ko,AVAILABILITY_TRANSFER_SIZE:Zo}=w,{appendMetric:Xo,sendMetrics:Qo,getMetricsCollected:Jo}=yt,{subscribe:ea}=i,ta=window.requestIdleCallback||(e=>setTimeout(e,200)),na="availabilityEvent";let ra=!1;const oa=e=>{(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(Qo({id:Go},e,Jo()),window.document.removeEventListener(na,t),ra=!1)};ra||(window.document.addEventListener(na,t),ra=!0),window.document.addEventListener("visibilitychange",(()=>{const e=new window.Event(na);window.document.dispatchEvent(e)}))})(e)};var aa=e=>{ea(Ko,(e=>{e&&Xo(Ko,e)})),ea(Zo,(e=>{e&&Xo(Zo,e)})),ta((()=>oa(e)))};const{AVAILABILITY_FAILURE:ia}=w,{queue:ca}=i;var sa=()=>{const{_pfl:e}=window;(e||[]).forEach((e=>{const[t,n]=e;ca(ia,{filename:n,initiator:t,value:1})}))};const{appendMetric:da}=yt,{supportsPerformanceApi:ua}=r,{AVAILABILITY_TRANSFER_SIZE:la}=w,{thresholdEntries:pa,fileSupport:Ea}=E,ma=e=>e.substring(e.lastIndexOf(".")+1,e.length),fa=e=>{const t=ma(e);return Object.keys(Ea).find((e=>Ea[e].some((e=>e===t))))},Ta=e=>{const{type:t,value:n,name:r}=e;n>(pa[t]||0)&&da(la,{filename:r,initiator:t,value:n})};var va=()=>{(()=>{if(!ua())return[];const{performance:e}=window,t=Object.keys(Ea).reduce(((e,t)=>e.concat(Ea[t])),[]);return e.getEntries().filter((e=>t.some((t=>t===ma(e.name))))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t)).map((e=>{const t=e.encodedBodySize&&e.encodedBodySize>0?e.encodedBodySize:e.transferSize;return{name:e.name,type:fa(e.name),value:t}}))})().forEach(Ta)};const{prepareConfiguration:wa}=le,{supportsBeaconOrFetch:Ia}=r;var Aa={start:e=>{const t=wa(e);if(t)try{Ia()&&(Rt(),Bt(),aa(t),sa(),va(),hr())}catch(e){}}};const{CDN_HEALTH:ha}=c,{AVAILABILITY_FAILURE:_a}=w,{appendMetric:Oa,sendMetrics:ga,getMetricsCollected:Da}=yt,{subscribe:Na}=i,ya=window.requestIdleCallback||(e=>setTimeout(e,200)),La="cdnHealthEvent";let Sa=!1;const ba=e=>{(e=>{const t=()=>{"hidden"===window.document.visibilityState&&(ga({id:ha},e,Da()),window.document.removeEventListener(La,t),Sa=!1)};Sa||(window.document.addEventListener(La,t),Sa=!0),window.document.addEventListener("visibilitychange",(()=>{const e=new window.Event(La);window.document.dispatchEvent(e)}))})(e)};var Ra=e=>{Na(_a,(e=>{e&&Oa(_a,e)})),ya((()=>ba(e)))};const{trackMetric:Ca}=yt,{supportsFetchApi:Ma}=r,{getWithFetch:ka}=ut,{X_CDN:Fa}=w,Pa={g:"google",a:"akamai"};var Ba=()=>Ma()?ka("https://http2.mlstatic.com/cdn/ping.gif").then((e=>{if(e.headers.has("x-cdn")){const t=e.headers.get("x-cdn");Ca(Fa,Pa[t])}})).catch((e=>e)):null;const{trackMetric:Wa}=yt,{supportsPerformanceApi:Ua}=r,{toFixedNumber:Ha}=Wt,{DURATION_SUM:ja,RESOURCE_SIZE:xa}=w;var Ya=()=>{if(!Ua())return;const e=window.performance.getEntriesByType("resource").filter((e=>new RegExp("http2.mlstatic.com").test(e.name))),t=e.reduce(((e,t)=>e+=t.duration),0);Wa(ja,Ha(t)),Wa(xa,e.length)};const{prepareConfiguration:Va}=le,{supportsBeaconOrFetch:qa}=r;var za={start:e=>{const t=Va(e);if(t)try{qa()&&(Ba(),sa(),Ra(t),Ya(),Rt(),Bt(),hr())}catch(e){}}};const{objectOperator:$a}=l,{AVAILABILITY:Ga,CDN_HEALTH:Ka}=c,{start:Za}=za,{start:Xa}=Aa;var Qa={start:e=>{Za($a({args:e,id:Ka})),Xa($a({args:e,id:Ga}))}};const{WEB_VITALS:Ja,CLIENT_COOKIES:ei,PAGE_RENDER:ti,A11Y:ni,AVAILABILITY:ri,CDN_HEALTH:oi,TRAFFIC_HEALTH:ai}=c;var ii={[Ja]:br,[ei]:Kr,[ti]:so,[ni]:$o,[ri]:Aa,[oi]:za,[ai]:Qa};const{supportsEnvironment:ci}=r,{queue:si}=i,{agentKey:di}={agentKey:"_perfill"},ui={},li=()=>(ui.initiatives||[]).forEach((e=>{e&&e.id&&ii[e.id]&&ii[e.id].start(ui,e)})),pi=()=>{window.requestIdleCallback?window.requestIdleCallback(li,{timeout:2e3}):setTimeout(li,500)};let Ei=!1;const mi={set:(e,t)=>{ui[e]=t},queue:si,send:e=>{e in mi&&mi[e]()},start:()=>{!Ei&&ci()&&(Ei=!0,"complete"===window.document.readyState?pi():window.addEventListener("load",pi))}},fi=e=>{try{const t=e[0],n=mi[t];t&&n&&n.apply(null,[].slice.call(e,1))}catch(e){}};return(()=>{const e=(window[di]||{}).q||[];window[di]=e=>fi(e);try{e.forEach(fi)}catch(e){}})()}();
//# sourceMappingURL=perfill-agent.min.js.map
