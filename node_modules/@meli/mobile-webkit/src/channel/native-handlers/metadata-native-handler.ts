import { ToNativeMessageType, FromNativeMessageType, MessageFromNative } from "../../models";
import { NativeChannel } from "../native-channel";
import { NativeHandler } from "./native-handler";

declare let __SDK_VERSION__: any;

export class MetadataNativeHandler implements NativeHandler {

    readonly SDK_VERSION = __SDK_VERSION__;
    messageType = FromNativeMessageType.Metadata;

    constructor(private channel: NativeChannel) { }

    handleMessage(message: MessageFromNative): void {
        this.channel.sendMessageToApp({
            message_type: ToNativeMessageType.JSExecutionResult,
            args: {
                callback_msg: message.callback_msg,
                result: {
                    sdk_version: this.SDK_VERSION
                }
            }
        });
    }
}
