import { MobileWebkit } from "../../mobile-webkit";
import { Config } from "../../models";
import { AnalyticsOptions } from "./analytics_options";
import { FirebaseOptions } from "./firebase_options";
import { MelidataOptions } from "./melidata_options";
import { TrackingCommands } from "./tracking_commands";

export class TrackingCommandsImpl implements TrackingCommands{
    
    constructor(private mobileWebkit: MobileWebkit) { }

    analytics(args:AnalyticsOptions, settings?:Config):Promise<string>{
        return this.mobileWebkit.executeNative({
            method: 'track_analytics',
            args,
            ...settings
        });
    }

    melidata(args:MelidataOptions, settings?:Config):Promise<string>{
        return this.mobileWebkit.executeNative({
            method: 'track_melidata',
            args,
            ...settings
        });
    }

    firebase(args:FirebaseOptions, settings?:Config):Promise<string>{
        return this.mobileWebkit.executeNative({
            method: 'track_firebase',
            args,
            ...settings
        });
    }
}