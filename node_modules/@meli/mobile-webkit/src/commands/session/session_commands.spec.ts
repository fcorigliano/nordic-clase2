import { MobileWebkit } from "../../mobile-webkit";
import { SessionCommandsImpl } from "./session_command_impl";

describe("SessionCommands", ()=>{

    let executeNativeSpy: jest.Mock<any, any>;
    let mobileWebKit: MobileWebkit;
    let commands: SessionCommandsImpl;

    beforeEach(() => {
        executeNativeSpy = jest.fn();
        mobileWebKit = {
            executeNative: executeNativeSpy
        } as any;
        commands = new SessionCommandsImpl(mobileWebKit);
    });

    it("should call executeNative with method context_info", ()=>{
        // When
        commands.contextInfo();

        // Then
        expect(executeNativeSpy).toHaveBeenCalledWith({
            method: "context_info",
            args: {}
        })
    });
});
