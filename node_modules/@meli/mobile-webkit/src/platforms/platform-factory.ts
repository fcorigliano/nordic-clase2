import { AndroidPlatform } from "./android-platform";
import { IosPlatform } from "./ios-platform";
import { Platform } from "./platform";
import { findItem, Logger } from "../utils";

export class PlatformFactory {

    constructor(private logger: Logger) { }

    private platforms = [
        new AndroidPlatform(),
        new IosPlatform()
    ]

    getPlaform(): Platform | undefined {
        let platform = findItem(this.platforms, item => item.isAvailable());
        if (platform == undefined) {
            this.logger.log("No connection to app");
        }
        return platform;
    }
}