!function(){"use strict";var e,t,n={d:function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},i={};n.d(i,{default:function(){return fe}}),function(e){e.NoAppConnection="connection_code",e.Timeout="timeout_code",e.Native="native_code",e.UnknownMessage="unknown_message",e.UnavailableCommand="unavailable_command"}(e||(e={})),function(e){e.NativeRequest="native_request",e.NativeExecutionResult="native_execution_result",e.NativeMultiExecutionResult="native_multi_execution_result",e.Metadata="metadata"}(t||(t={}));var o=function(){function e(){this.callbacks=new Map,this.callbackGenerator=0}return e.prototype.add=function(e){return this.callbackGenerator+=1,this.callbacks.set(this.callbackGenerator,e),this.callbackGenerator},e.prototype.hasCallback=function(e){return this.callbacks.has(e)},e.prototype.getAndRemove=function(e){var t=this.callbacks.get(e);return this.callbacks.delete(e),t},e}();function r(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){if(t==e[i[n]])return!0}return!1}function a(e,t){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(t(o))return o}}var s,u=function(){function e(){}return e.prototype.log=function(e){console.log("SDK js: "+e)},e}(),c=function(){function t(e,t){this.callbackContainer=e,this.retry=t}return t.prototype.run=function(e){var t=this;e.timeout<=0||setTimeout((function(){return t.handleTimeout(e)}),e.timeout)},t.prototype.handleTimeout=function(t){var n=this,i=t.internal_data.callback_id,o=t.internal_data.current_retry_on_timeout;if(this.callbackContainer.hasCallback(i)){var r=t.retries_on_timeout;if(r>0&&o<r)return t.internal_data.current_retry_on_timeout=o+1,void setTimeout((function(){return n.retry(t)}),t.retry_time_on_timeout);var a=this.callbackContainer.getAndRemove(i);a&&a(void 0,{code:e.Timeout,data:{timeout:t.timeout,invocation:t}})}},t}(),l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t,n){return l(l(l({message_type:e,internal_data:{current_retry_on_timeout:0}},n),(i=t,JSON.parse(JSON.stringify(i)))),{callback:t.callback});var i}!function(e){e.Connect="connect",e.JSRequest="js_request",e.JSMultiRequest="js_multi_request",e.JSExecutionResult="js_execution_result"}(s||(s={}));var b,h=function(){function e(e){this.logger=e}return e.prototype.hasRequestMethod=function(e){return!!e.method||(this.logger.log("Invalid invocation"),!1)},e.prototype.isValidMultiRequest=function(e){var t;return!e.args||(null===(t=e.args)||void 0===t?void 0:t.length)<=0?(this.logger.log("Invalid multi invocation"),!1):null==a(e.args,(function(e){return!e.method}))||(this.logger.log("Invalid multi invocation"),!1)},e.prototype.isValidNativeToJsMessage=function(e){var n=e.message_type;return r(t,n)?!(n===t.NativeRequest&&!e.method)||(this.logger.log("Invalid protocol message native_request without method"),!1):(this.logger.log("Invalid protocol menssage"),!1)},e}(),m=function(){function e(){}return e.prototype.isAvailable=function(){return null!=window.WebviewSDKCommunicationChannel},e.prototype.sendMessage=function(e){WebviewSDKCommunicationChannel.executeNative(e)},e}(),f=function(){function e(){}return e.prototype.isAvailable=function(){var e=window;return e.webkit&&e.webkit.messageHandlers&&e.webkit.messageHandlers.webviewSDKCommunicationChannel},e.prototype.sendMessage=function(e){window.webkit.messageHandlers.webviewSDKCommunicationChannel.postMessage(e)},e}(),d=function(){function e(e){this.logger=e,this.platforms=[new m,new f]}return e.prototype.getPlaform=function(){var e=a(this.platforms,(function(e){return e.isAvailable()}));return null==e&&this.logger.log("No connection to app"),e},e}(),g=function(){function e(e){this.channel=e,this.SDK_VERSION="2.0.8",this.messageType=t.Metadata}return e.prototype.handleMessage=function(e){this.channel.sendMessageToApp({message_type:s.JSExecutionResult,args:{callback_msg:e.callback_msg,result:{sdk_version:this.SDK_VERSION}}})},e}(),v=function(){return(v=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(){function n(e){this.callbackContainer=e,this.messageType=t.NativeMultiExecutionResult}return n.prototype.handleMessage=function(t){var n,i=t.callback_msg,o=this.callbackContainer.getAndRemove(i);if(o){var r=t.args;if(r)o(null===(n=r.result)||void 0===n?void 0:n.map((function(t){return v(v({},t),{error:t.error?{code:e.Native,data:t.error}:void 0})})),r.error?{code:e.Native,data:r.error}:void 0)}},n}();!function(e){e.connect="connect",e.nativeRequest="native_request"}(b||(b={}));var _,k=function(){function e(){}return e.connect=function(e){var t=new CustomEvent(b.connect,{bubbles:!1,cancelable:!1,detail:e});return t.data=e.data,t},e.nativeRequest=function(e){var t=new CustomEvent(b.nativeRequest,{bubbles:!1,cancelable:!1,detail:e});return t.method=e.method,t.args=e.args,t.callback=e.callback,t},e}(),w=function(){function e(e,n){this.eventEmitter=e,this.channel=n,this.messageType=t.NativeRequest}return e.prototype.handleMessage=function(e){var t=this,n=k.nativeRequest({method:e.method,args:e.args,callback:function(n){t.channel.sendMessageToApp({message_type:s.JSExecutionResult,args:{callback_msg:e.callback_msg,result:n.result,error:n.error}})}});this.eventEmitter.dispatchEvent(n)},e}(),C=function(){function n(e){this.callbackContainer=e,this.messageType=t.NativeExecutionResult}return n.prototype.handleMessage=function(t){var n=t.callback_msg,i=this.callbackContainer.getAndRemove(n);if(i){var o=t.args;if(o){var r=o.error?{code:e.Native,data:o.error}:void 0;i(o.result,r)}}},n}(),W=function(){function t(e,t,n,i){var o=this;void 0===i&&(i=new d(e)),this.logger=e,this.callbackContainer=t,this.eventEmitter=n,this.platformFactory=i,this.isConnected=!1,this.timeoutHandler=new c(this.callbackContainer,(function(e){return o.sendMessageToApp(e)})),this.nativeHandlers=[new g(this),new w(this.eventEmitter,this),new C(this.callbackContainer),new y(this.callbackContainer)]}return t.prototype.isAppConnected=function(t,n){return!!this.isConnected||(this.logger.log("not connected with app"),t&&t(void 0,{code:e.NoAppConnection,data:n}),!1)},t.prototype.sendMessageToApp=function(e){var t,n=e.message_type;if(n!=s.JSRequest&&n!=s.JSMultiRequest||this.isAppConnected(e.callback,e)){var i=function(e){var t;return{args:e.args,message_type:e.message_type,method:e.method,callback_msg:null===(t=e.internal_data)||void 0===t?void 0:t.callback_id}}(e);this.prepareCallback(e,i);var o=JSON.stringify(i);this.logger.log("js -> native: send message -> "+o),null===(t=this.platformFactory.getPlaform())||void 0===t||t.sendMessage(o)}},t.prototype.prepareCallback=function(e,t){if(e.callback){var n=e.internal_data.callback_id;n||(n=this.callbackContainer.add(e.callback),e.internal_data.callback_id=n),t.callback_msg=n,this.timeoutHandler.run(e)}},t.prototype.receiveMessageFromApp=function(t){var n=t.message_type,i=a(this.nativeHandlers,(function(e){return e.messageType==n}));i?i.handleMessage(t):this.sendMessageToApp({message_type:s.JSExecutionResult,args:{callback_msg:t.callback_msg,error:{code:e.UnknownMessage,data:t}}})},t}(),K=function(){function e(e){this.mobileWebkit=e}return e.prototype.setRefreshMode=function(e){return this.mobileWebkit.executeNative({method:"refresh_action",args:{refresh_mode:e}})},e}();!function(e){e.Legacy="legacy",e.V200="2.0.0"}(_||(_={}));var N,x=function(){function e(){}return e.prototype.generateId=function(){return"".concat((new Date).getTime(),"-").concat(Math.random())},e}(),O=function(){function e(e){this.mobileWebKit=e,this.idGenerator=new x}return e.prototype.subscribe=function(e,t){var n=this.idGenerator.generateId();return this.subscribeWithMethod(e,n,t)},e.prototype.subscribeWithMethod=function(e,t,n){this.mobileWebKit.executeNative({method:"subscribe_event",args:{topic:e,event_method:t}});var i=function(e){e.detail.method==t&&n(e)};return this.mobileWebKit.on(b.nativeRequest,i),{id:t,topic:e,subscription:i}},e.prototype.subscribeMethod=function(e,t){var n=function(n){n.detail.method==e&&t(n)};return this.mobileWebKit.on(b.nativeRequest,n),{id:e,topic:void 0,subscription:n}},e.prototype.unsubscribe=function(e){var t=e.topic,n=e.id,i=e.subscription;return this.mobileWebKit.off(b.nativeRequest,i),t?this.mobileWebKit.executeNative({method:"unsubscribe_event",args:{topic:t,event_method:n}}):Promise.resolve("Success")},e.prototype.dispatch=function(e,t){return this.mobileWebKit.executeNative({method:"dispatch_event",args:{topic:e,data:t}})},e}(),A=((N={})[_.Legacy]=function(e){return new O(e)},N[_.V200]=function(e){return new O(e)},N),R=function(){return(R=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},M=function(){function e(e){this.mobileWebKit=e}return e.prototype.reload=function(){return this.mobileWebKit.executeNative({method:"reload",args:{}})},e.prototype.push=function(e,t){return this.mobileWebKit.executeNative({method:"push",args:R({deeplink:e},t)})},e.prototype.pop=function(e){return this.mobileWebKit.executeNative({method:"pop",args:e})},e.prototype.openForResult=function(e,t){return this.mobileWebKit.executeNative({method:"open_for_result",args:{deeplink:e,request_code:t}})},e.prototype.closeScreenGroup=function(e){return this.mobileWebKit.executeNative({method:"close_all",args:e})},e.prototype.canOpenDeeplink=function(e,t){return this.mobileWebKit.executeNative({method:"can_open_deeplink",args:R({deeplink:e},t)})},e.prototype.openLinkInAppBrowser=function(e,t){return this.mobileWebKit.executeNative({method:"open_in_app_browser",args:R({url:e},t)})},e.prototype.openLinkOutsideApp=function(e){return this.mobileWebKit.executeNative({method:"open_link",args:{url:e}})},e.prototype.getGroupStore=function(e){return this.mobileWebKit.executeNative({method:"get_group_store",args:{}}).then((function(t){var n=JSON.parse(t);return null!=e?n[e]:n}))},e.prototype.setGroupStore=function(e,t){var n=this;return this.getGroupStore().then((function(i){var o,r=null!=t?i[t]:i,a=e(r),s=null!=t?R(R({},i),((o={})[t]=a,o)):a;return n.mobileWebKit.executeNative({method:"set_group_store",args:{store:JSON.stringify(s)}})}))},e}();function S(t){var n=t.command,i=t.unavailableArgs,o=t.expectedResult,r=t.backsupportCallback;if(r)return r({command:n,unavailableArgs:null!=i?i:[]}),Promise.resolve(o);var a={code:e.UnavailableCommand,data:{command:n,unavailableArgs:i}};return Promise.reject(a)}function P(e,t){for(var n=[],i=null!=e?e:{},o=null!=t?t:{},r={},a=0,s=Object.keys(i);a<s.length;a++){var u=s[a],c=i[u],l=o[u];if(l)if(l.values){var p=l.values["".concat(c)];p?r[l.field]=p:n.push({field:u,value:c})}else r[l.field]=c;else n.push({field:u,value:c})}return{args:r,unavailable:n}}var E,T=function(){return(T=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},j=function(){function e(e){this.mobileWebKit=e,this.openInternalDeeplinkArgs={deeplink:{field:"deeplink"},replace:{field:"replace"}}}return e.prototype.reload=function(e){return S({command:"reload",backsupportCallback:e,unavailableArgs:[]})},e.prototype.push=function(e,t,n){var i=P(t,this.openInternalDeeplinkArgs),o=i.args,r=i.unavailable;return this.mobileWebKit.executeNative({method:"open_internal_deeplink",args:T({deeplink:e},o)}).then((function(e){return S({command:"push",expectedResult:e,unavailableArgs:r,backsupportCallback:n})}))},e.prototype.pop=function(e){return e.isHistoryEnabled?this.mobileWebKit.executeNative({method:"back",args:e}):this.mobileWebKit.executeNative({method:"close",args:e})},e.prototype.openForResult=function(e,t,n){return S({command:"open_for_result",backsupportCallback:n,unavailableArgs:[]})},e.prototype.closeScreenGroup=function(e,t){return S({command:"close_screen_group",backsupportCallback:t,unavailableArgs:[]})},e.prototype.canOpenDeeplink=function(e,t){return this.mobileWebKit.executeNative({method:"can_open_deeplink",args:T({deeplink:e},t)})},e.prototype.openLinkInAppBrowser=function(e,t){return this.mobileWebKit.executeNative({method:"open_url",args:T({url:e},t)})},e.prototype.openLinkOutsideApp=function(e){return this.mobileWebKit.executeNative({method:"open_external_url",args:{url:e}})},e.prototype.getGroupStore=function(e,t){return S({command:"get_group_store",backsupportCallback:t,unavailableArgs:[]})},e.prototype.setGroupStore=function(e,t,n){return S({command:"set_group_store",backsupportCallback:n,unavailableArgs:[]})},e}(),L=((E={})[_.Legacy]=function(e){return new j(e)},E[_.V200]=function(e){return new M(e)},E);var q,I,V,J,D,G,B=function(){function e(e){this.mobileWebKit=e}return e.prototype.setup=function(e){return this.mobileWebKit.executeNative({method:"setup_bar",args:e})},e.prototype.subscribeToRightButtonClick=function(e){var t=function(t){"custom_navigation_icon_clicked"==t.detail.method&&e(t)};return this.mobileWebKit.on("native_request",t),t},e.prototype.unsubscribeToRightButtonClick=function(e){this.mobileWebKit.off("native_request",e)},e}(),H=function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},F=function(){function e(e){this.mobileWebKit=e,this.barCommands=new B(this.mobileWebKit),this.setupOptionsSupport={bar_title:function(e){return[{method:"set_title",args:{title:e}}]},bar_color:function(e){return[{method:"bar_color",args:{color:e}}]},bar_left_button_style:function(e){return H([{method:"back_style",args:{type:e}}],"none"!=e?[{method:"back_action",args:{type:e}}]:[],!0)}}}return e.prototype.setup=function(e,t){var n=function(e,t){for(var n=null!=e?e:{},i=null!=t?t:{},o=[],r=[],a=0,s=Object.keys(n);a<s.length;a++){var u=s[a],c=n[u],l=i[u];l?o.push.apply(o,l(c)):r.push({field:u,value:c})}return{requests:o,unavailable:r}}(e,this.setupOptionsSupport),i=n.requests,o=n.unavailable;return this.mobileWebKit.multiExecuteNative({args:i}).then((function(e){return S({command:"setup_bar",expectedResult:e,unavailableArgs:o,backsupportCallback:t})}))},e.prototype.subscribeToRightButtonClick=function(e){return this.barCommands.subscribeToRightButtonClick(e)},e.prototype.unsubscribeToRightButtonClick=function(e){this.barCommands.unsubscribeToRightButtonClick(e)},e}(),U=((q={})[_.Legacy]=function(e){return new F(e)},q[_.V200]=function(e){return new B(e)},q),$=function(){function e(e){this.mobileWebkit=e,this.pickImageOptionsSupport={max_size:{field:"maxSize"},is_base64:{field:"isBase64"},mime_types:{field:"mimeTypes"}}}return e.prototype.shareImage=function(e){return this.mobileWebkit.executeNative({method:"share_image",args:e})},e.prototype.downloadImage=function(e){return this.mobileWebkit.executeNative({method:"download_image",args:e})},e.prototype.pickImage=function(e){var t=P(e,this.pickImageOptionsSupport).args;return this.mobileWebkit.executeNative({method:"pick_image",args:t})},e.prototype.share=function(e,t){return this.mobileWebkit.executeNative({method:"share",args:{title:e,data:t}})},e}(),z=function(){function e(e){this.mobileWebkit=e}return e.prototype.shareImage=function(e){return this.mobileWebkit.executeNative({method:"share_image",args:e})},e.prototype.downloadImage=function(e){return this.mobileWebkit.executeNative({method:"download_image",args:e})},e.prototype.pickImage=function(e){return this.mobileWebkit.executeNative({method:"pick_image",args:e})},e.prototype.share=function(e,t){return this.mobileWebkit.executeNative({method:"share",args:{title:e,data:t}})},e}(),Q=((I={})[_.Legacy]=function(e){return new $(e)},I[_.V200]=function(e){return new z(e)},I),X=function(){function e(e){this.mobileWebkit=e}return e.prototype.setRefreshMode=function(e){return this.mobileWebkit.executeNative({method:"refresh_mode",args:{refresh_mode:e}})},e}(),Y=((V={})[_.Legacy]=function(e){return new K(e)},V[_.V200]=function(e){return new X(e)},V),Z=function(){function e(e){this.mobileWebkit=e}return e.prototype.contextInfo=function(){return this.mobileWebkit.executeNative({method:"context_info",args:{}})},e}(),ee=((J={})[_.Legacy]=function(e){return new Z(e)},J[_.V200]=function(e){return new Z(e)},J),te=function(){return(te=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ne=function(){function e(e){this.mobileWebkit=e}return e.prototype.analytics=function(e,t){return this.mobileWebkit.executeNative(te({method:"track_analytics",args:e},t))},e.prototype.melidata=function(e,t){return this.mobileWebkit.executeNative(te({method:"track_melidata",args:e},t))},e.prototype.firebase=function(e,t){return this.mobileWebkit.executeNative(te({method:"track_firebase",args:e},t))},e}(),ie=((D={})[_.Legacy]=function(e){return new ne(e)},D[_.V200]=function(e){return new ne(e)},D),oe=function(){function e(e){this.mobileWebKit=e}return e.prototype.onConnected=function(){var e=this;return this.mobileWebKit.isConnected()?Promise.resolve():new Promise((function(t){var n=function(){t(),e.mobileWebKit.off(b.connect,n)};e.mobileWebKit.on(b.connect,n)}))},e.prototype.onViewAppeared=function(e){return this.mobileWebKit.events.subscribeMethod("view_appeared",e)},e.prototype.onViewDisappeared=function(e){return this.mobileWebKit.events.subscribeMethod("view_disappeared",e)},e.prototype.unsubscribe=function(e){return this.mobileWebKit.events.unsubscribe(e)},e}(),re=((G={})[_.Legacy]=function(e){return new oe(e)},G[_.V200]=function(e){return new oe(e)},G),ae=function(){function e(e){this.mobileWebKit=e}return e.prototype.getEventCommands=function(){return this.events||(this.events=A[this.mobileWebKit.engine](this.mobileWebKit)),this.events},e.prototype.getBarCommands=function(){return this.bar||(this.bar=U[this.mobileWebKit.engine](this.mobileWebKit)),this.bar},e.prototype.getSettingsCommands=function(){return this.settings||(this.settings=Y[this.mobileWebKit.engine](this.mobileWebKit)),this.settings},e.prototype.getActionsCommands=function(){return this.actions||(this.actions=Q[this.mobileWebKit.engine](this.mobileWebKit)),this.actions},e.prototype.getNavigationCommands=function(){return this.navigation||(this.navigation=L[this.mobileWebKit.engine](this.mobileWebKit)),this.navigation},e.prototype.getSessionCommands=function(){return this.session||(this.session=ee[this.mobileWebKit.engine](this.mobileWebKit)),this.session},e.prototype.getTrackingCommands=function(){return this.tracking||(this.tracking=ie[this.mobileWebKit.engine](this.mobileWebKit)),this.tracking},e.prototype.getLifecycleCommands=function(){return this.lifecycle||(this.lifecycle=re[this.mobileWebKit.engine](this.mobileWebKit)),this.lifecycle},e}(),se={timeout:1e3,retries_on_timeout:3,retry_time_on_timeout:0},ue={timeout:0,retries_on_timeout:0,retry_time_on_timeout:0},ce={timeout:0,retries_on_timeout:0,retry_time_on_timeout:0},le=function(){function e(){}return e.prototype.addEventListener=function(e,t,n){window.addEventListener(e,t,n)},e.prototype.removeEventListener=function(e,t,n){window.removeEventListener(e,t,n)},e.prototype.dispatchEvent=function(e){return window.dispatchEvent(e)},e.prototype.on=function(e,t,n){this.addEventListener(e,t,n)},e.prototype.off=function(e,t,n){this.removeEventListener(e,t,n)},e.prototype.emit=function(e){return this.dispatchEvent(e)},e}();function pe(e){var t,n=e.callback,i=new Promise((function(e,i){t=function(t,o){o?i(o):(e(t),n&&n(t,o))}}));return e.callback=t,i}var be,he=(be=function(e,t){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}be(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),me=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CALL_SCRIPT="window.MobileWebKit.receiveMessageFromApp($___message___$)",t.CALL_PLACEHOLDER="$___message___$",t.logger=new u,t.callbackContainer=new o,t.channel=new W(t.logger,t.callbackContainer,t),t.validator=new h(t.logger),t.Engines=_,t._engine=_.V200,t.commandProvider=new ae(t),t}return he(t,e),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.commandProvider.getActionsCommands()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topbar",{get:function(){return this.commandProvider.getBarCommands()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.commandProvider.getEventCommands()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lifecycle",{get:function(){return this.commandProvider.getLifecycleCommands()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigation",{get:function(){return this.commandProvider.getNavigationCommands()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){return this.commandProvider.getSettingsCommands()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"session",{get:function(){return this.commandProvider.getSessionCommands()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tracking",{get:function(){return this.commandProvider.getTrackingCommands()},enumerable:!1,configurable:!0}),t.prototype.connect=function(){var e=this;this.logger.log("connecting to native");var t={args:{js_invocation:{call_script:this.CALL_SCRIPT,call_placeholder:this.CALL_PLACEHOLDER}},callback:function(t,n){if(n)e.logger.log(n);else{var i,o,a,s;e._engine=(i={enumType:_,value:t.webkit_engine,defaultValue:_.Legacy},o=i.enumType,a=i.value,s=i.defaultValue,r(o,a)?a:s),e.channel.isConnected=!0,e.logger.log("connected with app");var u=k.connect({data:t});e.dispatchEvent(u)}}},n=p(s.Connect,t,se);this.channel.sendMessageToApp(n)},t.prototype.executeNative=function(e){var t=pe(e);if(this.validator.hasRequestMethod(e)&&this.isConnected()){var n=p(s.JSRequest,e,ue);return this.channel.sendMessageToApp(n),t}},t.prototype.multiExecuteNative=function(e){var t=pe(e);if(this.validator.isValidMultiRequest(e)&&this.isConnected()){var n=p(s.JSMultiRequest,e,ce);return this.channel.sendMessageToApp(n),t}},t.prototype.receiveMessageFromApp=function(e){this.logger.log("native -> js: receive message -> "+JSON.stringify(e)),this.validator.isValidNativeToJsMessage(e)&&this.channel.receiveMessageFromApp(e)},t.prototype.isConnected=function(){return this.channel.isAppConnected()},t}(le));setTimeout((function(){return me.connect()}));var fe=me;window.MobileWebKit=i.default}();
//# sourceMappingURL=mobilewebkit.js.map