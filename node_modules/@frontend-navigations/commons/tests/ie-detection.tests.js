const ieDetection = require('../ie-detection');

describe('IE Detection', () => {
  it('returns an empty object when browser is not present', () => {
    expect(ieDetection()).toEqual({});
  });

  it('returns an empty object when browser is present but does not have a name', () => {
    expect(ieDetection({ major: '8' })).toEqual({});
  });

  it('returns an empty object when browser is present but does not have a major', () => {
    expect(ieDetection({ name: 'ie' })).toEqual({});
  });

  it('returns false since browser is chrome', () => {
    const browser = {
      name: 'chrome',
      major: '73',
    };

    const detection = ieDetection(browser);

    expect(detection.isIe).toEqual(false);
  });

  it('returns true since it is ie but does not validate a version', () => {
    const browser = {
      name: 'ie',
      major: 'test',
    };

    const detection = ieDetection(browser);

    expect(detection.isIe).toEqual(true);
    expect(detection.isGreaterOrEqualThanIe9).toEqual(false);
    expect(detection.isLessThanIe9).toEqual(false);
  });

  it('returns true since browser is ie, and it has a version of 11', () => {
    const browser = {
      name: 'ie',
      major: '11',
    };

    const detection = ieDetection(browser);

    expect(detection.isIe).toEqual(true);
    expect(detection.isGreaterOrEqualThanIe9).toEqual(true);
    expect(detection.isLessThanIe9).toEqual(false);
  });

  it('returns true since browser is ie, and it has a version of 9', () => {
    const browser = {
      name: 'ie',
      major: '11',
    };

    const detection = ieDetection(browser);

    expect(detection.isIe).toEqual(true);
    expect(detection.isGreaterOrEqualThanIe9).toEqual(true);
    expect(detection.isLessThanIe9).toEqual(false);
  });

  it('returns true since browser is ie, and it has a version of 8.', () => {
    const browser = {
      name: 'ie',
      major: '8',
    };

    const detection = ieDetection(browser);

    expect(detection.isIe).toEqual(true);
    expect(detection.isGreaterOrEqualThanIe9).toEqual(false);
    expect(detection.isLessThanIe9).toEqual(true);
  });


  it('returns true since browser is ie, and it has a version of 5.', () => {
    const browser = {
      name: 'ie',
      major: '5',
    };

    const detection = ieDetection(browser);

    expect(detection.isIe).toEqual(true);
    expect(detection.isGreaterOrEqualThanIe9).toEqual(false);
    expect(detection.isLessThanIe9).toEqual(true);
  });
});
