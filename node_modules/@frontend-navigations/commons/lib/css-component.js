(()=>{var e={1510:(e,r,t)=>{var n,i=t(7147),o=t(2037),a=t(1017),s=t(6007),c=t(2295),f=t(6958),l=t(5207),u=l.RETRY_TIME_WINDOW,m=l.REST_CLIENT_TIMEOUT,p=l.MAX_CONCURRENT_REQUESTS,d=l.REMOVE_FILE_TIME_WINDOW,g=t(8262),v=g.getHref,N=g.getPlatformName,h=t(4999).create("frontend-navigations/commons"),E=a.join(o.tmpdir(),"frontend-navigations-files","files-cache");if(!i.existsSync(E))try{i.mkdirSync(E,{recursive:!0})}catch(e){h.error({err:e,errorType:"creating-cache-folder-error",message:"Error creating css cache folder on ".concat(E),tags:{updatedFilesFolderPath:E}})}var T,I=function(e,r,t){return a.join(E,t,r,e)},y=c({timeout:m}),C=function e(r){var t=a.dirname(r);i.existsSync(t)||(e(t),i.mkdirSync(t))},S=function(e,r){try{C(e),i.writeFile(e,r,{flag:"wx"},(function(){}))}catch(r){h.error({err:r,errorType:"files-cache-writing-error",message:"Navigation CSS file cache - Error writing file ".concat(e,". Error message: ").concat((r||{}).message),tags:{filePath:e}})}},O=[],x=[];T=function(e){if(e&&O.push(e),x.length<p&&O.length){var r=O.shift();x.push(r),function(e){var r=e.key,t=e.fileName,n=e.uiNavigationVersion,i=e.platformName,o=e.contentCache;if(!o.hasSuscriptors(r))return Promise.resolve();var a=v(null,t,n,i);return y.get(a,{context:f()}).then((function(e){var a=e.data,s=I(t,i,n);o.setContent(r,a,s),S(s,a)})).catch((function(t){h.error({err:t,errorType:"files-cache-request-error",message:"Navigation CSS file cache - Error getting ".concat(a,". Error message: ").concat((t||{}).message),tags:{url:a}}),o.hasSuscriptors(r)&&setTimeout((function(){return o.hasSuscriptors(r)&&T(e)}),u)}))}(r).then((function(){x.splice(x.indexOf(r),1),T()}))}};var _,R=(_={},{getContent:function(e){return(_[e]||{}).content},setContent:function(e,r,t){var n=_[e];n&&r&&(n.content=r,n.fileToRemove=t)},suscribe:function(e){var r=e.key,t=e.fileName,n=e.platformName,o=e.uiNavigationVersion;_[r]||(_[r]={content:null,suscriptors:0,uiNavigationVersion:o},function(e){var r=e.key,t=e.fileName,n=e.platformName,o=e.uiNavigationVersion,a=e.contentCache;setTimeout((function(){var e,s,c;a.hasSuscriptors(r)&&(s=(e={fileName:t,platformName:n,uiNavigationVersion:o,callback:function(e,i,s){e?a.hasSuscriptors(r)&&T({key:r,fileName:t,platformName:n,uiNavigationVersion:o,contentCache:a}):a.setContent(r,i,s)}}).callback,c=I(e.fileName,e.platformName,e.uiNavigationVersion),i.readFile(c,(function(e,r){return s(e,r&&r.toString(),c)})))}))}({key:r,fileName:t,platformName:n,uiNavigationVersion:o,contentCache:R})),_[r].suscriptors+=1},unsuscribe:function(e){_[e]&&(_[e].suscriptors-=1,setTimeout((function(){var r=_[e];r&&r.suscriptors<=0&&(delete _[e],r.fileToRemove&&setTimeout((function(){_[e]||i.unlink(r.fileToRemove,(function(){}))}),d))})))},hasSuscriptors:function(e){return!(!_[e]||!_[e].suscriptors)}}),b=function(){var e={};return{get:function(r,t,n,i){return(((e[r]||{})[t]||{})[n]||{})[i]},set:function(r){var t=r.environment,i=r.platformId,o=r.siteId,a=r.fileName,c=r.platformName,f=r.uiNavigationVersion,l=r.configGetter,u=r.addConfigUpdateHandler;if(!e[t]){e[t]={};var m=n({environment:t,configGetter:l,addConfigUpdateHandler:u});u?u(m,t):s.addUpdateHandler(m,t)}var p=e[t];p[i]||(p[i]={});var d=p[i];d[o]||(d[o]={});var g=d[o],v=g[a],N=[a,c,f].join("/");v!==N&&(v&&R.unsuscribe(v),N&&R.suscribe({key:N,fileName:a,platformName:c,uiNavigationVersion:f})),g[a]=N},getEnvironmentCache:function(r){return e[r]}}}();n=function(e){var r=e.environment,t=e.configGetter,n=e.addConfigUpdateHandler;return function(){var e=b.getEnvironmentCache(r);Object.keys(e).forEach((function(i){var o=e[i],a=N(i);a?Object.keys(o).forEach((function(e){var c=o[e],f=t?t({key:"uiNavigationVersion",platform:{id:i,siteId:e}}):s.get("uiNavigationVersion",i,e,r);Object.keys(c).forEach((function(t){b.set({environment:r,platformId:i,siteId:e,fileName:t,platformName:a,uiNavigationVersion:f,addConfigUpdateHandler:n})}))})):h.error({errorType:"files-cache-unknown-platform",message:"Navigation CSS file cache - Unknown platform ".concat(i),tags:{platformId:i}})}))}},e.exports={getFileContent:function(e){var r,t,n,i,o,a,s,c,f,l=(r={fileName:e.fileName,platformId:e.platformId,siteId:e.siteId,environment:e.environment,uiNavigationVersion:e.uiNavigationVersion,platformName:e.platformName,configGetter:e.configGetter,addConfigUpdateHandler:e.addConfigUpdateHandler},t=r.fileName,n=r.platformId,i=r.siteId,o=r.environment,a=r.uiNavigationVersion,s=r.platformName,c=r.configGetter,f=r.addConfigUpdateHandler,b.get(o,n,i,t)||b.set({environment:o,platformId:n,siteId:i,fileName:t,platformName:s,uiNavigationVersion:a,configGetter:c,addConfigUpdateHandler:f}));return R.getContent(l)||null}}},3886:(e,r,t)=>{var n=t(6689),i=t(691),o=t(6007),a=t(8262),s=a.getHref,c=a.getPlatformName,f=t(4643),l=t(1510).getFileContent,u=function(e){var r=e.navigationType,t=e.files,a=e.platformId,u=e.siteId,m=e.feConfigEnvironment,p=e.embedCss,d=e.cdn,g=e.configGetter,v=e.configEnvironment,N=e.addConfigUpdateHandler,h=e.configKey,E=e.appName;if("hidden"===r||!t.length)return null;var T=c(a);if(!T)return f.error("Navigation CSS component - Unknown platform ".concat(a)),null;var I=h||"uiNavigationVersion",y=g?g({key:I,platform:{id:a,siteId:u}}):o.get(I,a,u,m);if(!y)return f.error("Navigation CSS component - no ".concat(I,' configuration for platform "').concat(a,'" and site "').concat(u,'"')),null;var C=(g?g({key:"siteSpecificCSS",platform:{id:a,siteId:u}}):o.get("siteSpecificCSS",a,u,m))?"-".concat(u):"";return t.map((function(e){var r={media:e.media},t="".concat(e.name).concat(C,".css");if(p){var o=l({fileName:t,platformId:a,siteId:u,environment:v||m,uiNavigationVersion:y,platformName:T,configGetter:g,addConfigUpdateHandler:N});o?(r.renderChildrenInPlace=!1,r.children=o):r.href=s(d,t,y,T,E)}else if(r.href=s(d,t,y,T,E),e.firstRequestInlineStyles){r.firstRequestInlineStyles={key:"ui-navigation",value:y};var c=l({fileName:t,platformId:a,siteId:u,feConfigEnvironment:m,uiNavigationVersion:y,platformName:T});c&&(r.children=c,r.renderChildrenInPlace=!1)}return n.createElement(i,r)}))};u.defaultProps={navigationType:"full",platformId:"ML",siteId:"MLA",embedCss:!1,feConfigEnvironment:null,files:[],cdn:null,configGetter:null,configEnvironment:null,addConfigUpdateHandler:null,configKey:null},e.exports=u},5509:e=>{e.exports={CDNS:{default:{name:"default",link:"https://http2.mlstatic.com",cssFileSuffix:""},akamaiQuic:{name:"akamaiQuic",link:"https://mlstaticquic-a.akamaihd.net",cssFileSuffix:"-akamai-quic"},assets:{name:"assets",link:"https://assets.mlstatic.com",cssFileSuffix:"-assets"}}}},4065:e=>{e.exports={exampleAppName:"frontend-navigations/ml"}},5207:e=>{e.exports={REST_CLIENT_TIMEOUT:15e3,RETRY_TIME_WINDOW:6e5,MAX_CONCURRENT_REQUESTS:3,REMOVE_FILE_TIME_WINDOW:12e5}},950:e=>{e.exports={ML:"mercadolibre",MP:"mercadopago",TC:"tucarro",PI:"portalinmobiliario",MT:"metroscubicos",MS:"mercadoshops"}},3863:e=>{e.exports={STAT_PREFIX:"navigation",NO_MODULE_NAME:"no_module_name",STAT_INTERNAL_ERROR:"stat_internal_error",LOG_INTERNAL_ERROR:"log_internal_error",APP_LOG_NAME:"frontend-navigations"}},8482:(e,r,t)=>{var n=t(9890),i=t(4588).getPathName,o=t(3863),a=o.STAT_INTERNAL_ERROR,s=o.STAT_PREFIX;e.exports={send:function e(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var o=[s,r.name].concat(r.errorType?i(r.errorType):[]).join("."),c=Object.assign({},r.tags);r.req&&r.req.platform&&(c.platformId=r.req.platform.id),n.histogram(o,1,c)}catch(n){t||e({errorType:a,tags:{originalErrorType:r.errorType}},!0)}}}},4999:(e,r,t)=>{var n=t(8779);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var a=t(8482),s=(t(5964),t(2693)),c=t(4588).getPathName,f=t(3863).NO_MODULE_NAME;e.exports={create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=(s(e),function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.send(o(o({},r),{},{name:c(e)}))});return{error:r}}}},4643:(e,r,t)=>{var n=t(2693);e.exports=n("frontend-navigations/commons")},5964:(e,r,t)=>{var n=t(8482),i=t(3863).LOG_INTERNAL_ERROR;e.exports=function(e,r){if(e.message)try{var t=e.message,o=e.tags||{};if(e.errorType&&(o.errorType=e.errorType),e.req){e.req.platform&&(o.platformId=e.req.platform.id,o.siteId=e.req.platform.siteId),o.originalUrl=e.req.originalUrl;var a=e.req.user;a&&(o.userId=a.id)}r.info(t,o)}catch(r){n.send({errorType:i,url:(e.req||{}).originalUrl,name:e.name,tags:{originalErrorType:e.errorType}},!0)}}},4588:e=>{e.exports={getPathName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[., ]/g,"_").toLowerCase()}}},2403:(e,r,t)=>{var n=t(7833),i=n.APPLICATION,o=n.FURY,a=n.PRODUCTION,s=t(4065).exampleAppName,c=!a&&!o;e.exports={isExampleApp:function(e){return c&&i===(e||s)}}},8262:(e,r,t)=>{var n=t(950),i=t(5509).CDNS,o=t(2403).isExampleApp;e.exports={getPlatformName:function(e){return n[e]},getHref:function(e,r,t,n,a){var s=o(a)?"http://localhost:8081":(e||{}).link||i.default.link;return"".concat(s,"/frontend-assets/").concat(a||"frontend-navigations","/ui-navigation/").concat(t,"/").concat(n,"/").concat(r)}}},8779:e=>{"use strict";e.exports=require("@babel/runtime/helpers/defineProperty")},6007:e=>{"use strict";e.exports=require("frontend-config")},7833:e=>{"use strict";e.exports=require("frontend-env")},2693:e=>{"use strict";e.exports=require("frontend-logger")},2295:e=>{"use strict";e.exports=require("frontend-restclient")},6958:e=>{"use strict";e.exports=require("frontend-restclient/src/build-flow-context")},9890:e=>{"use strict";e.exports=require("frontend-statsd/internal")},691:e=>{"use strict";e.exports=require("frontend-style")},6689:e=>{"use strict";e.exports=require("react")},7147:e=>{"use strict";e.exports=require("fs")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")}},r={},t=function t(n){var i=r[n];if(void 0!==i)return i.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}(3886);module.exports=t})();