/**
 * Module dependencies
 */
const StatsDClientModule = require('hot-shots');
const statsd = require('../../internal');
const { host, maxBufferSize } = require('../../src/defaultConfig');

/**
 * Tests
 */
describe('StatsD Internal Client', () => {
  it('should return an instance of StatsD (hot-shots)', () => {
    expect(statsd).toBeInstanceOf(StatsDClientModule);
  });
  it('should return an instance without a prefix for internal purpose', () => {
    expect(statsd.prefix).toEqual('');
  });
  it('should return an instance without a suffix for internal purpose', () => {
    expect(statsd.suffix).toEqual('');
  });
  it('should return an instance with host and maxBufferSize defaults config', () => {
    expect(statsd.host).toEqual(host);
    expect(statsd.maxBufferSize).toEqual(maxBufferSize);
  });
  it('should return an instance without errorHandler', () => {
    expect(statsd.errorHandler).toBeNull();
  });
});
