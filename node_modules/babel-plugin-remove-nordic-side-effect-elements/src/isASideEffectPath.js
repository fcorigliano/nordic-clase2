/**
 * It will detect if the given path is one of the specified side-effect paths
 */

const isASideEffectPath = (path, state, modulesToRemove) => {
  const sideEffectPath = modulesToRemove.find((moduleName) => path.node
      && path.node.declarations.find(decl => (
        decl.init
        && decl.init.arguments
        && decl.init.arguments.find(
          node => node.value
            && typeof node.value === 'string'
            && node.value === moduleName,
        )
      )));

  return !!sideEffectPath;
};

module.exports = isASideEffectPath;
