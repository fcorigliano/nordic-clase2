{"version":3,"sources":["webpack://nav-cart/./src/Cart.js","webpack://nav-cart/external \"@babel/runtime/helpers/jsx\"","webpack://nav-cart/external \"frontend-script\"","webpack://nav-cart/external \"react\"","webpack://nav-cart/webpack/bootstrap","webpack://nav-cart/webpack/startup"],"names":["Script","require","translations","es","cartTextSingle","cartTextMultiple","pt","Cart","data","cdnDomain","locale","url","title","tabIndex","isMobile","cartClassName","badge_icon","Object","prototype","hasOwnProperty","call","quantity","jsPath","CDN_DOMAIN","WIDGET_PATH","cartText","text","replace","getTextCart","href","target","flow_type","className","id","label","JSON","stringify","carts","src","API_URI_GET","API_URI_POST","defaultProps","undefined","module","exports","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"mappings":"sDAEMA,GADQC,EAAQ,KACPA,EAAQ,MAGjBC,EAAe,CACnBC,GAAI,CACFC,eAAgB,6BAChBC,iBAAkB,+BAEpBC,GAAI,CACFF,eAAgB,8BAChBC,iBAAkB,iCAahBE,EAAO,SAAC,GAAgE,IAA9DC,EAA8D,EAA9DA,KAAMC,EAAwD,EAAxDA,UAAWC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,IAAKC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACzDC,EAAgB,WAChBC,EAAa,GAOjBD,IALEC,EADEC,OAAOC,UAAUC,eAAeC,KAAKZ,EAAM,YAChCA,EAEAA,EAAKQ,YAGQK,SAAW,EAAI,iBAAmB,kBAC9D,IACMC,EAAS,GAAH,YADwB,IAAdb,EAA4BA,EAAYc,8BAClD,OAAeC,wDAAf,OACNC,EArBY,SAACJ,EAAUX,GAC7B,IAAIgB,EAAOxB,EAAaQ,GAAQL,iBAKhC,OAJiB,IAAbgB,IACFK,EAAOxB,EAAaQ,GAAQN,gBAGvBsB,EAAKC,QAAQ,MAAON,GAeVO,CAAYZ,EAAWK,SAAUX,GAE9CmB,EAAOlB,EAKX,OAJIH,EAAKsB,QAAUtB,EAAKsB,OAAOC,YAC7BF,GAAQ,cAAJ,OAAkBrB,EAAKsB,OAAOC,YAIlC,OACEF,KAAMA,EACNjB,MAAOA,EACP,aAAYa,EACZO,UAAWjB,EACXkB,GAAG,WACHpB,SAAUA,QANZ,QAQE,OAAGmB,UAAU,mBACb,UAAMA,UAAU,+BAAhB,EAA0ChB,EAAWkB,OAErD,EAAClC,EAAD,4LAMUc,EAAW,aAAH,OAAgBA,EAAhB,KAA8B,eANhD,kCAOiBqB,KAAKC,UAAU5B,EAAK6B,OAPrC,sCAQoB1B,EARpB,0EAcA,EAACX,EAAD,CAAQsC,IAAKhB,QAAb,sMAMkBX,GANlB,OAMwB4B,eANxB,sCAOmB5B,GAPnB,OAOyB6B,YAPzB,sDASiB7B,EATjB,uCAUoBG,EAVpB,gEAYmBJ,EAZnB,iDAwCNH,EAAKkC,aAAe,CAClB7B,MAAO,UACPF,OAAQ,KACRD,eAAWiC,EACX7B,cAAU6B,GAGZC,EAAOC,QAAUrC,G,6BCrHjBoC,EAAOC,QAAU3C,QAAQ,+B,6BCAzB0C,EAAOC,QAAU3C,QAAQ,oB,6BCAzB0C,EAAOC,QAAU3C,QAAQ,WCCrB4C,EAA2B,GCE/B,IAAIC,EDCJ,SAASC,EAAoBC,GAE5B,IAAIC,EAAeJ,EAAyBG,GAC5C,QAAqBN,IAAjBO,EACH,OAAOA,EAAaL,QAGrB,IAAID,EAASE,EAAyBG,GAAY,CAGjDJ,QAAS,IAOV,OAHAM,EAAoBF,GAAUL,EAAQA,EAAOC,QAASG,GAG/CJ,EAAOC,QClBWG,CAAoB,K","file":"cart.js","sourcesContent":["/* global WIDGET_PATH  API_URI_GET API_URI_POST CDN_DOMAIN */\nconst React = require('react');\nconst Script = require('frontend-script');\nconst PropTypes = require('prop-types');\n\nconst translations = {\n  es: {\n    cartTextSingle: '{0} producto en tu carrito',\n    cartTextMultiple: '{0} productos en tu carrito',\n  },\n  pt: {\n    cartTextSingle: '{0} produto em seu carrinho',\n    cartTextMultiple: '{0} produtos em seu carrinho',\n  },\n};\n\nconst getTextCart = (quantity, locale) => {\n  let text = translations[locale].cartTextMultiple;\n  if (quantity === 1) {\n    text = translations[locale].cartTextSingle;\n  }\n\n  return text.replace('{0}', quantity);\n};\n\nconst Cart = ({ data, cdnDomain, locale, url, title, tabIndex, isMobile }) => {\n  let cartClassName = 'nav-cart';\n  let badge_icon = {};\n  if (Object.prototype.hasOwnProperty.call(data, 'quantity')) {\n    badge_icon = data;\n  } else {\n    badge_icon = data.badge_icon;\n  }\n\n  cartClassName += badge_icon.quantity > 0 ? ' nav-cart-full' : ' nav-cart-empty';\n  const domain = typeof cdnDomain !== 'undefined' ? cdnDomain : CDN_DOMAIN;\n  const jsPath = `${domain}${WIDGET_PATH}.js`;\n  const cartText = getTextCart(badge_icon.quantity, locale);\n\n  let href = url;\n  if (data.target && data.target.flow_type) {\n    href += `?flow_type=${data.target.flow_type}`;\n  }\n\n  return (\n    <a\n      href={href}\n      title={title}\n      aria-label={cartText}\n      className={cartClassName}\n      id=\"nav-cart\"\n      tabIndex={tabIndex}\n    >\n      <i className=\"nav-icon-cart\" />\n      <span className=\"nav-icon-cart-quantity\">{badge_icon.label}</span>\n\n      <Script>\n        {`\n          if (window.Cart) {\n            new window.Cart({\n              trigger: document.getElementById('nav-cart'),\n              isHover: true,\n              ${isMobile ? `isMobile: ${isMobile},` : 'small: true,'}\n              carts: ${JSON.stringify(data.carts)},\n              baseUrl: '${url}',\n              bus: freya,\n            });\n          }\n        `}\n      </Script>\n      <Script src={jsPath}>\n        {`\n          if (window.CartWidget) {\n            new window.CartWidget({\n              element: document.getElementById('nav-cart'),\n              endpoints: {\n                get: '${url}${API_URI_GET}',\n                post: '${url}${API_URI_POST}',\n              },\n              link: '${url}',\n              isMobile: ${isMobile},\n              bus: freya,\n              locale: '${locale}',\n            });\n          }\n        `}\n      </Script>\n    </a>\n  );\n};\n\nCart.propTypes = {\n  data: PropTypes.shape({\n    badge_icon: PropTypes.shape({\n      quantity: PropTypes.number,\n      label: PropTypes.string,\n    }),\n    carts: PropTypes.array,\n    target: PropTypes.shape({\n      flow_type: PropTypes.string,\n    }),\n  }).isRequired,\n  url: PropTypes.string.isRequired,\n  isMobile: PropTypes.bool.isRequired,\n  title: PropTypes.string,\n  locale: PropTypes.string,\n  cdnDomain: PropTypes.string,\n  tabIndex: PropTypes.number,\n};\n\nCart.defaultProps = {\n  title: 'Carrito',\n  locale: 'es',\n  cdnDomain: undefined,\n  tabIndex: undefined,\n};\n\nmodule.exports = Cart;\n","module.exports = require(\"@babel/runtime/helpers/jsx\");","module.exports = require(\"frontend-script\");","module.exports = require(\"react\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(102);\n"],"sourceRoot":""}