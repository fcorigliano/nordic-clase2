# first-party-detection

# Table of Contents
- [Description](#description)
- [Install](#install)
- [Contributing](#contributing)
- [Changelog](#changelog)

## Description

This middleware is responsible of doing three main things

- Prevent vendor users from entering applications not in first party subdomain (centrodeproveedores.mercadolibre.com.ar | centrodefornecedores.mercadolivre.com.br)

- Prevent NON vendor users from entering applications in  first party subdomain 

- setting the firstParty object in the request for other applications to use

```
req.firstParty = {
  isFirstPartyUser, //true if user has vendor tag
  isFirstPartyURL, //true if domain is FirstParty one
  isFirstPartyMarketplaceFlow, //same as isFirstPartyURL
}
```

## Install

This middleware is activated by default in [ragnar](https://github.com/mercadolibre/frontend-ragnar)

if you want to disable it you can do it from the configuration file inside your app

```
module.exports = {
  ragnar: {
    middlewares: {
      firstPartyDetection: false,
    }
  }
};
```

## Contributing

In order to contribute to this library, you must read [this guide](CONTRIBUTING.md) first.

## Changelog

We keep changes to our codebase [here](CHANGELOG.md)
