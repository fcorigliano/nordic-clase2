/**
 * Module dependencies
 */
const device = require('./device');
const browser = require('./browser');
const clientHints = require('./client-hints');

/**
 * Exposes middleware
 * Adds device and browser properties to the req object.
 */
module.exports = function deviceDetection(req, res, next) {
  req.device = device(req);
  req.browser = browser(req.headers, req.device.lowEnd);
  clientHints(req, res);
  next();
};
