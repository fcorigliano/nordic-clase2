/**
  * Add client hints to req.device and set client hints response headers.
  * Device hints
  * - Device-Memory: Indicates device capability for memory i.e. device RAM, in order to enable web apps
  *   to customize content depending on device memory constraints.
  * - DPR: Indicates the client's current Device Pixel Ratio (DPR).
  * - Viewport-Width: Indicates the layout viewport width in CSS px.
  * Network hints
  * - RTT: Indicates the effective round-trip time estimate in milliseconds, rounded to nearest multiple
  *   of 25 milliseconds, and is based on recently observed application-layer RTT
  *   measurements across recently active connections.
  * - Downlink: Indicates the effective bandwidth estimate in megabits per second, rounded to nearest
  *   multiple of 25 kilobits per second, and is based on recently observed application layer
  *   throughput across recently active connections.
  * - ECT: Represents the effective connection type of the current connection.
  * - Save-Data: Indicates user agent's preference for reduced data usage.
  */
module.exports = (req, res) => {
  const { device, headers } = req;
  device.memory = headers['device-memory'];
  device.dpr = headers.dpr;
  device.viewportWidth = headers['viewport-width'];
  device.rtt = headers.rtt;
  device.downlink = headers.downlink;
  device.ect = headers.ect;
  device.saveData = headers['save-data'];
  // Set client hint request headers.
  res.header('Accept-CH', 'device-memory, dpr, viewport-width, rtt, downlink, ect, save-data');
  res.header('Accept-CH-Lifetime', '60'); // Seconds
};
