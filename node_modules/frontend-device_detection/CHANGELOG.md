# Changelog

## Next release

## 2.3.0

- [#19](https://github.com/mercadolibre/fury_frontend-device-detection/pull/19) Feature - Check for mobile app requirements

## 2.2.0

- [#16](https://github.com/mercadolibre/fury_frontend-device-detection/pull/16) Treat SmartPOS devices with older user-agent format as known native app

## 2.1.1

- [#12](https://github.com/mercadolibre/fury_frontend-device-detection/pull/12) Fix type declarations with new changes made in [#9](https://github.com/mercadolibre/fury_frontend-device-detection/pull/9)
- [#13](https://github.com/mercadolibre/fury_frontend-device-detection/pull/13) Fix readme due to Nordic site docusaurs dependency upgrade.

## 2.1.0

- [#9](https://github.com/mercadolibre/fury_frontend-device-detection/pull/9) Change `useragent` module for `ua-parser-js`

There was a security vulnerability on `useragent` module and it has not been maintained for some time now, so we decided to change it to [ua-parser-js](https://github.com/faisalman/ua-parser-js)

### **:warning: Breaking changes:**

- **New property: `req.browser.device`** = { vendor: '', model: '', type: '' }
  - ex: { vendor: 'HTC', model: 'Evo Shift 4G', type: 'mobile' }
- **`req.browser.name`**: some browser names have changed
  - For example, if you are using  'chrome for ios' or 'chrome mobile', consider that you will have to check for the device type:
    - `req.browser.name === 'chrome for ios'` → `req.browser.name === 'chrome' && req.browser.device.type === 'mobile' && req.device.osName === 'ios'`
    - `req.browser.name === 'chrome mobile'` → `req.browser.name === 'chrome' && req.browser.device.type === 'mobile'`
- **`req.device.osName`**: there is no longer a difference between `'mac os x'` and `'mac os'`, we always return 'mac os'
  - Change: `req.device.osName === 'mac os x'` → `req.device.osName === 'mac os'`
- `'other'` → `undefined`:
 `req.browser.name`,`req.browser.version`, `req.device.osName` and `req.device.osVersion` now will be `undefined` instead of `'other'`
    - Ex: `req.browser.name !== 'other'` → `req.browser.name !== undefined`

#### These are some of the naming changes on `browser.name` and `device.osName`:
- `req.browser.name`:
  - `'ie mobile'` → `'iemobile'`
  - `'qq browser'` → `'qqbrowser'`
  - `'pale moon'` → `'palemoon'`
  - `'opera mobile'` → `'opera mobi'`
  - `'nokia browser'` → `'nokiabrowser'`
  - `'netfront nx'` → `'netfront'`
  - `'miuibrowser'` → `'miui browser'`
  - `'firefox mobile'` → `'firefox'`
  - `'firefox mobile'` → `'fennec'`
  - `'edge mobile'` → `'edge'`
  - `'chrome mobile'` → `'chrome'`
  - `'chrome mobile webview'` → `'chrome webview'`
  - `'headlesschrome'` →  `'chrome headless'`
  - `'chrome mobile ios'` → `'chrome`
  - `'samsung internet'` → `'samsung browser'`
  - `'uc browser'` → `'ucbrowser'`
  - `'android'` → `'android browser'`

- `req.device.osName`:
  - `'mac os x'` → `'mac os'`
  - `'chrome os'` → `'chromium os'`

## 2.0.0

- [#7](https://github.com/mercadolibre/fury_frontend-device-detection/pull/7) Node 14 and dependencies update

## 1.12.1

- [#5](https://github.com/mercadolibre/fury_frontend-device-detection/pull/5) Revert get OS from WebView user agent

## 1.12.0

- [#2](https://github.com/mercadolibre/fury_frontend-device-detection/pull/2) Get platform dynamically in WebViews and expose if OS have google play services

## 1.11.2

- [#48](https://github.com/mercadolibre/frontend-device_detection/pull/48) Refactor types declaration for better Express extensibility

## 1.11.1

- Updated README with v1.11.0 changes

## 1.11.0

- [#45](https://github.com/mercadolibre/frontend-device_detection/pull/45) Outdated browser detection finetune

## 1.10.0

- [#42](https://github.com/mercadolibre/frontend-device_detection/pull/42) Add IE11 as outdated support
- [#40](https://github.com/mercadolibre/frontend-device_detection/pull/40) Add req.browser.outdated support
- [#41](https://github.com/mercadolibre/frontend-device_detection/pull/41) Fix type declarations and added TSC to check declarations file

## 1.9.0

- [#37](https://github.com/mercadolibre/frontend-device_detection/pull/37) Add type declarations for express' request properties
- [#38](https://github.com/mercadolibre/frontend-device_detection/pull/38) Mark any non-Safari browser on iOS lte 12.4 as no samesite compat

## 1.8.0

- [#34](https://github.com/mercadolibre/frontend-device_detection/pull/34) Add SameSite detection support
- [#35](https://github.com/mercadolibre/frontend-device_detection/pull/35) Treat Chromium based browsers as with no complete SameSite support up to v66.x

## 1.7.0

- [#32](https://github.com/mercadolibre/frontend-device_detection/pull/32) Docs: Added low end definitions
- [#31](https://github.com/mercadolibre/frontend-device_detection/pull/31) Improve PCI compliance detection for FB webviews
- [#30](https://github.com/mercadolibre/frontend-device_detection/pull/30) Se migra a Jest
- [#29](https://github.com/mercadolibre/frontend-device_detection/pull/29) Feature webview user agent
- [#28](https://github.com/mercadolibre/frontend-device_detection/pull/28) Feature nativeWebview

Note: Added execution of tests and linter to prepublish script

## Check for previous history in the [repo release tags](https://github.com/mercadolibre/frontend-device_detection/releases)
