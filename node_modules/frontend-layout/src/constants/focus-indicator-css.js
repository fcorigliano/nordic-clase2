const React = require('react');
const Style = require('frontend-style');

const mlFocusCss = `
  *:focus {
    box-shadow: 0 0 0 2px #fff, 0 0 0 3px #2968C8, 0 0 0 5px rgba(65, 137, 230, 0.3);
    outline: none;
  }

  *:focus-visible {
    box-shadow: 0 0 0 2px #fff, 0 0 0 3px #2968C8, 0 0 0 5px rgba(65, 137, 230, 0.3);
    outline: none;
  }

  *:focus:not(:focus-visible) {
    box-shadow: none;
    outline: none;
  }
`;

const mpFocusCss = `
  *:focus {
    box-shadow: 0 0 0 2px #fff, 0 0 0 3px #007EB5, 0 0 0 5px rgba(71, 154, 209, 0.3);
    outline: none;
  }

  *:focus-visible {
    box-shadow: 0 0 0 2px #fff, 0 0 0 3px #007EB5, 0 0 0 5px rgba(71, 154, 209, 0.3);
    outline: none;
  }

  *:focus:not(:focus-visible) {
    box-shadow: none;
    outline: none;
  }
`;

const getFocusIndicatorCss = (req) => {
  const focusIndicatorCss = req?.platform?.id === 'MP' ? mpFocusCss : mlFocusCss;

  if (req?.device?.type === 'desktop') return React.createElement(Style, null, focusIndicatorCss);

  return null;
};

module.exports = {
  getFocusIndicatorCss,
};
